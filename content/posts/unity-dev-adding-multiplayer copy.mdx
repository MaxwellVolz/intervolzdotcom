---
title: Unity Dev - Adding Multiplayer Again!
date: 2025-06-26T16:32:00.000Z
---

Unity Multiplayer with Steam via FizzySteamworks

```
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚     Unity Game     â”‚
     â”‚ (Your Scene + UI)  â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚   Mirror (HLAPI)   â”‚
     â”‚ NetworkManager     â”‚
     â”‚ Player spawning    â”‚
     â”‚ Cmd/Rpc logic      â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚ uses
              â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚  FizzySteamworks   â”‚
     â”‚ (Mirror Transport) â”‚
     â”‚ Connects to peers  â”‚
     â”‚ over SteamP2P      â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚ via
              â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚  Steamworks.NET    â”‚
     â”‚ Steam API binding  â”‚
     â”‚ CSteamID / Overlay â”‚
     â”‚ Lobbies / Invites  â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚ talks to
              â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚     Steam Client   â”‚
     â”‚ (AppID 480)        â”‚
     â”‚ Overlay + Friends  â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

```


Perfect â€” understanding the full stack visually will make everything click. Here's a clear **diagram and explanation** of how your network flow works with **Unity â†’ Mirror â†’ FizzySteamworks â†’ Steamworks.NET**.

---

## ğŸ§© **Diagram: Unity Multiplayer with Steam via FizzySteamworks**

```plaintext
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚     Unity Game     â”‚
     â”‚ (Your Scene + UI)  â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚   Mirror (HLAPI)   â”‚
     â”‚ NetworkManager     â”‚
     â”‚ Player spawning    â”‚
     â”‚ Cmd/Rpc logic      â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚ uses
              â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚  FizzySteamworks   â”‚
     â”‚ (Mirror Transport) â”‚
     â”‚ Connects to peers  â”‚
     â”‚ over SteamP2P      â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚ via
              â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚  Steamworks.NET    â”‚
     â”‚ Steam API binding  â”‚
     â”‚ CSteamID / Overlay â”‚
     â”‚ Lobbies / Invites  â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚ talks to
              â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚     Steam Client   â”‚
     â”‚ (AppID 480)        â”‚
     â”‚ Overlay + Friends  â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Role of Each Layer

### Unity Game

* Contains your scenes, buttons, and player GameObjects
* You call `NetworkManager.StartHost()` or `StartClient()` from scripts like `SteamLobbyManager`

---

### Mirror

* Unityâ€™s high-level networking layer (HLAPI)
* Handles:
  * Spawning and syncing `NetworkPlayer`
  * RPCs like `CmdThrowBall`, `RpcSetHeldBall`
  * Hooks like `OnStartLocalPlayer()`
* Delegates all connection logic to the transport

---

### FizzySteamworks

* A **transport plugin** for Mirror
* Replaces `KCPTransport`
* Uses Steamâ€™s P2P system instead of IP-based sockets
* Key API:
  * `ClientConnect(string steamId)`
  * `ServerStart()` (used inside `StartHost()`)

---

### Steamworks.NET

* C# wrapper for Valveâ€™s native Steam API
* Provides:

  * `SteamUser.GetSteamID()`
  * `SteamMatchmaking.CreateLobby(...)`
  * `SteamFriends.GetPersonaName()`
* Exposes `CSteamID`, lobby events, and callback system

---

### **Steam Client**

* Handles the real P2P connection under the hood
* Manages friend invites, NAT traversal, overlay
* Must be running for Steamworks.NET to work

---

## **Typical Flow (Invite and Join)**

1. Host starts game
2. `SteamLobbyManager` auto-creates a Steam Lobby
3. Lobby metadata is set: `"HostAddress" = SteamID`
4. Host calls `NetworkManager.StartHost()` (Mirror sets up server)
5. Friend accepts invite â†’ triggers `OnGameLobbyJoinRequested`
6. Friend joins lobby â†’ triggers `OnLobbyEntered`
7. Lobby metadata is read â†’ SteamID is extracted
8. `fizzy.ClientConnect(steamId)` is called
9. `StartClient()` connects Mirror to host via Steam P2P
10. Host spawns new player over Mirror

---


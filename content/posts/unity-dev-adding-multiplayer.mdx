---
title: Unity Dev - Adding Multiplayer
date: 2025-06-05T16:32:00.000Z
---

- [Fresh Project!](#fresh-project)
  - [Network Architecture Goals](#network-architecture-goals)
  - [Gameobjects / Hierarchy](#gameobjects--hierarchy)
  - [Networking](#networking)
  - [Gameplay Functionality](#gameplay-functionality)
- [ğŸ¯ GOAL: Strip Boss Room to Multiplayer Catch Core](#-goal-strip-boss-room-to-multiplayer-catch-core)
  - [âœ… PHASE 1: Clone \& Boot](#-phase-1-clone--boot)
  - [ğŸ”¥ PHASE 2: Rework systems be rework for catch](#-phase-2-rework-systems-be-rework-for-catch)
  - [âœ… KEEP (but rework):](#-keep-but-rework)
  - [ğŸ›  TASKS](#-tasks)
    - [ğŸ” Repurpose RPG Systems](#-repurpose-rpg-systems)
    - [ğŸ§¼ Disable/Remove Unused Combat](#-disableremove-unused-combat)
    - [Add Catch Gameplay Mechanics](#add-catch-gameplay-mechanics)
    - [Update UI](#update-ui)
    - [ğŸ›  Code Touchpoints](#-code-touchpoints)
- [âœ… Once done:](#-once-done)
  - [ğŸ® PHASE 3: Repurpose Player Logic for Catch](#-phase-3-repurpose-player-logic-for-catch)
  - [ğŸ¥ PHASE 4: Camera \& Input](#-phase-4-camera--input)
  - [ğŸ§‘â€ğŸ¤â€ğŸ§‘ PHASE 5: Multiplayer \& Sync](#-phase-5-multiplayer--sync)
  - [ğŸ§½ PHASE 6: Polish \& Steam Prep](#-phase-6-polish--steam-prep)
- [ğŸ§© Optional: Add Later](#-optional-add-later)
- [âš¡ Ready to go?](#-ready-to-go)


## Fresh Project!

### Network Architecture Goals

1. Players join multiplayer through Steam friends
2. Players and Balls are syncâ€™d using Netcode for GameObjects
    1. players position
    2. players animation state
    3. ball position and ownership


Reading the [Unity Netcode Docs](https://docs-multiplayer.unity3d.com/netcode/current/about/)...

Unityâ€™s recommendation for friend-based sessions without dedicated servers is peer-to-peer with **Listen Server** architecture

Advantages:

- One player is **host** and **server** (i.e. a *listen server*), and others connect as **clients**
- No dedicated server infrastructure needed

Sync Behavior:

- Player positions (with NetworkTransform)
- Player animation states (with NetworkAnimator or custom RPCs/NetworkVariables)
- Ball state (ownership transferred on throw/catch)

Authority Model:

- Server-authoritative movement for players
- Ownership-transfer for balls, so the player who throws gains temporary authority


###  Gameobjects / Hierarchy

- Gameobjects
  - NetworkManager
- Prefabs
  - Player
    - Scripts
        - PlayerController - -organizes importing the others
        - PlayerInputs
        - PlayerActions
        - PlayerNetworking
        - PlayerMovement
    - GameObjects
      - leftHand
      - rightHand
      - Catch Area trigger
  - Ball

### Networking

- RPCs
  - Throw Events
  - Consecutive Catches - tracked per ball
  - TODO: what else
- Synced with Network Objects / Animators / Transforms
  - Position
  - Animators
  - Balls
    - in environment
    - being held by character

### Gameplay Functionality

- Player Movement
  - Blender Tree: Idle -> Walk -> Sprint
  - Trigger: Jump - hold for up to 1 second for larger jump
  - Trigger: Catch
  - Trigger: Dive - if sprinting and jump
  - Trigger: Pickup
  - Trigger: Aim Mode - prepare to throw
    - Change Camera to over the shoulder aiming like a grenade throw with a line renderer
    - Triggers: Release throw
- Cinemachine Camera
  - Orbit Camera
  - Over the Shoulder Aiming Mode for target and pitch selection
    

Hereâ€™s a **high-priority task list** to turn the **Unity Boss Room** project into your **Play Catch! multiplayer game**, focused on shipping on **Steam fast** by stripping, reskinning, and repurposing.

---


## ğŸ¯ GOAL: Strip Boss Room to Multiplayer Catch Core

---

### âœ… PHASE 1: Clone & Boot

**Objective**: Get the Boss Room project building and running.

* [X] âœ… Clone [Boss Room GitHub repo](https://github.com/Unity-Technologies/com.unity.multiplayer.samples.coop)
* [X] âœ… Open in Unity (same Unity version as project)
* [X] âœ… Test Relay/Lobby: Build & run a local host/client game
* [X] âœ… Confirm input, camera, player movement work

1. Installed the Unity version 2022.3 something
2. Built game
3. Connected via lobby system
4. Test movement and abilities

---

### ğŸ”¥ PHASE 2: Rework systems be rework for catch

**Objective**: Keep the netcode + character systems, creatively rework RPG logic into fast, action-oriented mechanics.

- sprint
- action skills become movement skills: dash, vault, teleport
- rpg stats become bonuses to: stamina, speed, sprint speed, throw power, vision(zoom), catch area
- item stats can give bonuses and +/-

---

### âœ… KEEP (but rework):

| System              | New Purpose in Catch                               |
| ------------------- | -------------------------------------------------- |
| `SprintAction`      | Keep as-is (stamina-gated dash)                    |
| `ActionSystem`      | Remap to Dash, Vault, Teleport                     |
| `StatSystem`        | Rework into throw power, speed, stamina            |
| `InventorySystem`   | Repurpose for temporary power-ups or pickup boosts |
| `AbilityUI`, hotbar | Turn into visual cooldowns for dashes, throws      |

---

### ğŸ›  TASKS

#### ğŸ” Repurpose RPG Systems

* [X] ğŸ” `ActionSystem` â†’
  * `Dash`
* [X] ğŸ” `StatSystem` â†’ Convert to:
  * `Stamina`
  * `SprintSpeed`
  * `ThrowPower`
  * `CatchRadius`
  * `ZoomMultiplier` (for aim cam)

- Created `ConcreteActions/DashAction.cs`
- Created `BossRoom/Actions/Dash Action`
- Updated Skills - `Assets/GameData/Character/Rogue/Rogue.asset`
- Added Action Prototype -> `Assets/Prefabs/GameDataSource.prefab`
- Updated: `Assets\Scripts\Gameplay\Configuration\CharacterClass.cs`
  - Added Stats: SprintSpeed, ThrowPower, CatchRadius, Stamina, ZoomMultiplier

#### ğŸ§¼ Disable/Remove Unused Combat

* [X] ğŸ—‘ Strip boss/AI enemy prefabs from scene

- Disabled Spawners in `Assets/Scenes/BossRoom/DungeonEntrance`
  
#### Add Catch Gameplay Mechanics

* [ ] Networked Balls
* [ ] Pickup and Throw Balls

- Create prefab: `Assets/Prefabs/Balls/OriginalBall.prefab`
  - NetworkObject, Rigidbody (with gravity), SphereCollider, Ball script
  - Set Tag: Heavy, Layer: NPCs
- Created: `Assets/Scripts/Gameplay/Action/ConcreteActions/ThrowBallAction.cs`


####  Update UI

* [ ] ğŸ” Replace `HealthUI` with:

  * Catch count
  * Stamina bar
  * Throw charge meter
* [ ] ğŸ—‘ Remove unused: spell buttons, XP bars, combat logs
* [ ] ğŸ¨ Style UI for casual/competitive action (Catch! theme)

#### ğŸ›  Code Touchpoints

* [ ] ğŸ” `ActionDescriptionSO` â†’ convert RPG abilities to action movement types
* [ ] ğŸ” `ServerCharacter` â†’ delete or empty
* [ ] ğŸ” `ActionPlayer.cs` â†’ map new input keys (dash, throw, aim, vault)
* [ ] ğŸ” `StatSystem.cs` â†’ rename + rename `StatType` enum to `CatchStatType`

---

## âœ… Once done:

You'll have:

* Multiplayer movement with dash/sprint/catch/throw
* Attribute system supporting player boosts
* Cleaner UI for action gameplay
* No leftover RPG logic or dependencies

---
---

### ğŸ® PHASE 3: Repurpose Player Logic for Catch

**Objective**: Replace core movement/interaction with Catch gameplay

* [ ] âœ… Keep `NetworkCharacterState`, but rename/refactor to `CatchPlayer`
* [ ] ğŸ¯ Add ball pickup logic (like `Interact` but simplified)
* [ ] ğŸ” Add `Ball` prefab with `NetworkObject`, `Rigidbody`, `Throw()` method
* [ ] âœ‹ Add `HoldPoint` on player prefab for attaching balls
* [ ] âœ… Sync ball ownership + position for holding
* [ ] â• Add throw power charge + server-authoritative throw

---

### ğŸ¥ PHASE 4: Camera & Input

**Objective**: Use or replace Boss Room's input + camera system

* [ ] ğŸ¯ Strip unused input actions from Input System
* [ ] âœ… Keep `ClientInputSender` or replace with new `PlayerInputHandler`
* [ ] ğŸ” Add aim/look input for mouse-aim throwing
* [ ] ğŸ¥ Replace Boss Room's top-down camera with third-person Cinemachine rig
* [ ] ğŸ§ª Test local + remote camera behavior (only Owner should drive)

---

### ğŸ§‘â€ğŸ¤â€ğŸ§‘ PHASE 5: Multiplayer & Sync

**Objective**: Ensure all key objects sync properly

* [ ] âœ… Keep `NetworkObject` on player + ball prefabs
* [ ] ğŸ” Use `NetworkAnimator` for synced animations (throw, catch)
* [ ] ğŸ”„ Make sure thrown ball syncs position, velocity, and rotation server-side
* [ ] ğŸ›  Validate ownership transfer for caught balls
* [ ] ğŸ§ª Test sync with 2+ clients (can they see each other throw + catch?)

---

### ğŸ§½ PHASE 6: Polish & Steam Prep

**Objective**: Finalize build + prepare for Steam

* [ ] âœ… Replace Boss Room UI art/assets with Catch! branding
* [ ] âœ… Rename scripts and namespaces to `PlayCatch`
* [ ] ğŸ® Implement simple scoreboard / catch count sync
* [ ] âœ… Replace launcher/menu with simple host/join UI
* [ ] âœ… Confirm build works on Steam with Steam transport (or fallback to Unity Relay)
* [ ] ğŸ§ª Run build + catch test with 2 Steam accounts

---

## ğŸ§© Optional: Add Later

* Lobby/Relay reintegration
* Steam Friends invite flow
* Gamepad support
* Custom character skins

---

## âš¡ Ready to go?

I can generate a stripped folder map or help you rename and isolate just the needed files. Want that next?

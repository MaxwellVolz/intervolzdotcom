"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[462],{2462:(e,t,o)=>{o.r(t),o.d(t,{default:()=>b});var n=o(5155),s=o(8661),r=o.n(s),i=o(2115),a=o(7909),d=o(8774),c=o(4476);let l=(0,a.default)(()=>Promise.all([o.e(367),o.e(413),o.e(268),o.e(737),o.e(506)]).then(o.bind(o,506)),{loadableGenerated:{webpack:()=>[506]},ssr:!1});function b(e){var t;let{onComplete:o}=e,[s,a]=(0,i.useState)(0),[b,p]=(0,i.useState)("tutorial-taxi-1"),[x,u]=(0,i.useState)(!1),{taxisRef:f,deliveriesRef:h,pickupNodesRef:m,deliveryTimerRef:g}=function(){let e=(0,i.useRef)([{id:"tutorial-taxi-1",state:"driving_to_pickup",path:null,t:0,speed:1.5,isFocused:!1,currentIntersectionId:void 0,incomingDir:0,previousNodeId:void 0,hasPackage:!1,currentDeliveryId:void 0,money:0,isReversing:!1,collisionCooldown:0}]),t=(0,i.useRef)([]),o=(0,i.useRef)(1e4),n=(0,i.useRef)([]),s=(0,i.useRef)(!1);return(0,i.useEffect)(()=>{let o=o=>{let{network:r}=o.detail;if(console.log("\uD83D\uDCDA Tutorial received road network update:",r),r.paths.length>0&&e.current[0]){let t=r.paths[0];e.current[0].path=t,e.current[0].t=0,console.log("✅ Tutorial taxi on path: ".concat(t.id)),console.log("   Total paths: ".concat(r.paths.length))}if(r.nodes){let e=r.nodes.filter(e=>e.types.includes("pickup"));if(n.current=e,console.log("\uD83D\uDCCD Tutorial has ".concat(e.length," pickup nodes")),e.length>=2&&!s.current){for(let o=0;o<2;o++){let o=(0,d.aK)(e,t.current);o&&t.current.push(o)}s.current=!0,console.log("\uD83C\uDFAE Tutorial spawned 2 initial deliveries")}}};return window.addEventListener("roadNetworkUpdated",o),()=>{window.removeEventListener("roadNetworkUpdated",o)}},[]),{taxisRef:e,deliveriesRef:t,pickupNodesRef:n,deliveryTimerRef:o}}(),j=[{title:"Welcome to Wayne Mo!",description:"You're following the taxi! Use the bottom-left icons to control the camera. Press Space or click bottom-right to pause."},{title:"Control the Intersection",description:"Click the intersection icon to change routing: Pass Through → Turn Left → Turn Right. The taxi follows your commands!"},{title:"Deliver Packages",description:"Watch the taxi pick up packages (glowing presents) and deliver them to matching colored dropoff points. Route the taxi to collect and complete deliveries!"}],v=j[s],w=(0,i.useCallback)(e=>{p(t=>t===e?null:e)},[]),k=(0,i.useCallback)(()=>{p(null)},[]),y=(0,i.useCallback)(()=>{u(e=>!e)},[]);return(0,i.useEffect)(()=>{let e=e=>{" "===e.key&&(e.preventDefault(),y())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[y]),(0,n.jsxs)("div",{className:"jsx-cf19621890bd9b40 tutorial-container",children:[(0,n.jsx)(l,{taxisRef:f,deliveriesRef:h,pickupNodesRef:m,deliveryTimerRef:g,followTaxiId:b,isPaused:x}),(0,n.jsxs)("div",{className:"jsx-cf19621890bd9b40 tutorial-overlay",children:[(0,n.jsx)(c.l,{taxisRef:f,onTaxiSelect:w,onResetCamera:k,selectedTaxiId:b}),(0,n.jsx)("button",{onClick:()=>{o()},className:"jsx-cf19621890bd9b40 start-game-button",children:"Start Game"}),(0,n.jsx)("div",{className:"jsx-cf19621890bd9b40 pause-container",children:(0,n.jsx)("button",{onClick:y,className:"jsx-cf19621890bd9b40 pause-button",children:x?"▶":"❚❚"})}),(0,n.jsxs)("div",{className:"jsx-cf19621890bd9b40 money-display",children:["$",(null==(t=f.current[0])?void 0:t.money)||0]}),(0,n.jsxs)("div",{className:"jsx-cf19621890bd9b40 instruction-panel",children:[(0,n.jsx)("h2",{className:"jsx-cf19621890bd9b40 step-title",children:v.title}),(0,n.jsx)("p",{className:"jsx-cf19621890bd9b40 step-description",children:v.description}),(0,n.jsxs)("div",{className:"jsx-cf19621890bd9b40 button-group",children:[s>0&&(0,n.jsx)("button",{onClick:()=>{s>0&&a(s-1)},className:"jsx-cf19621890bd9b40 previous-button",children:"Previous"}),(0,n.jsx)("button",{onClick:()=>{s<j.length-1?a(s+1):o()},className:"jsx-cf19621890bd9b40 next-button",children:s<j.length-1?"Next":"Start Game"})]}),(0,n.jsxs)("div",{className:"jsx-cf19621890bd9b40 step-indicator",children:["Step ",s+1," of ",j.length]})]})]}),(0,n.jsx)(r(),{id:"cf19621890bd9b40",children:".tutorial-container.jsx-cf19621890bd9b40{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#000}.tutorial-overlay.jsx-cf19621890bd9b40{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:100}.start-game-button.jsx-cf19621890bd9b40{position:absolute;top:20px;left:20px;background:#ff0;color:#000;border:none;border-radius:8px;padding:12px 24px;font-size:1.1rem;font-weight:700;cursor:pointer;pointer-events:auto;transition:all.2s;box-shadow:0 4px 12px rgba(255,255,0,.4)}.start-game-button.jsx-cf19621890bd9b40:hover{background:#fff200;transform:translatey(-2px);box-shadow:0 6px 16px rgba(255,255,0,.5)}.pause-container.jsx-cf19621890bd9b40{position:absolute;bottom:20px;right:20px;pointer-events:auto;z-index:100}.pause-button.jsx-cf19621890bd9b40{font-size:24px;font-weight:bold;padding:10px 16px;background:rgba(255,255,255,.9);color:#000;border:2px solid#000;border-radius:8px;cursor:pointer;font-family:monospace;transition:all.2s;min-width:60px;height:50px;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 12px rgba(0,0,0,.3)}.pause-button.jsx-cf19621890bd9b40:hover{background:#fff;transform:scale(1.05)}.pause-button.jsx-cf19621890bd9b40:active{transform:scale(.95)}.money-display.jsx-cf19621890bd9b40{position:absolute;top:20px;right:20px;font-size:32px;font-weight:bold;color:#ff0;text-shadow:2px 2px 4px rgba(0,0,0,.8);font-family:monospace;pointer-events:none;z-index:100}.instruction-panel.jsx-cf19621890bd9b40{position:absolute;bottom:40px;left:50%;transform:translatex(-50%);background:rgba(0,0,0,.9);border:3px solid#ff0;border-radius:16px;padding:2rem;max-width:600px;width:90%;pointer-events:auto;box-shadow:0 8px 32px rgba(255,255,0,.3)}.step-title.jsx-cf19621890bd9b40{color:#ff0;font-size:2rem;font-weight:900;margin:0 0 1rem 0;text-align:center;text-shadow:2px 2px 4px rgba(0,0,0,.5)}.step-description.jsx-cf19621890bd9b40{color:#fff;font-size:1.2rem;margin:0 0 2rem 0;text-align:center;line-height:1.6}.button-group.jsx-cf19621890bd9b40{display:flex;gap:1rem;justify-content:center;margin-bottom:1rem}.next-button.jsx-cf19621890bd9b40,.previous-button.jsx-cf19621890bd9b40{padding:1rem 2rem;font-size:1.1rem;font-weight:700;border-radius:8px;cursor:pointer;transition:all.2s;border:none}.next-button.jsx-cf19621890bd9b40{background:#ff0;color:#000;box-shadow:0 4px 12px rgba(255,255,0,.4)}.next-button.jsx-cf19621890bd9b40:hover{background:#fff200;transform:translatey(-2px);box-shadow:0 6px 16px rgba(255,255,0,.5)}.previous-button.jsx-cf19621890bd9b40{background:transparent;color:#fff;border:2px solid#666}.previous-button.jsx-cf19621890bd9b40:hover{border-color:#fff;transform:translatey(-2px)}.step-indicator.jsx-cf19621890bd9b40{text-align:center;color:#999;font-size:.9rem;margin-top:1rem}@media(max-width:768px){.instruction-panel.jsx-cf19621890bd9b40{bottom:20px;padding:1.5rem}.step-title.jsx-cf19621890bd9b40{font-size:1.5rem}.step-description.jsx-cf19621890bd9b40{font-size:1rem}.next-button.jsx-cf19621890bd9b40,.previous-button.jsx-cf19621890bd9b40{padding:.75rem 1.5rem;font-size:1rem}.start-game-button.jsx-cf19621890bd9b40{top:10px;left:10px;padding:8px 16px;font-size:.9rem}.pause-container.jsx-cf19621890bd9b40{bottom:10px;right:10px}.pause-button.jsx-cf19621890bd9b40{font-size:20px;padding:8px 12px;min-width:50px;height:40px}}"})]})}}}]);
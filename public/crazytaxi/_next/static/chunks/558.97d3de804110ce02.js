"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[558],{7177:(e,t,o)=>{o.r(t),o.d(t,{default:()=>u});var a=o(5155),s=o(8661),r=o.n(s),n=o(2115),i=o(5921),c=o(3511);let l=(0,o(1847).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var b=o(7909),d=o(8774),p=o(4476);let x=(0,b.default)(()=>Promise.all([o.e(367),o.e(413),o.e(268),o.e(737),o.e(506)]).then(o.bind(o,506)),{loadableGenerated:{webpack:()=>[506]},ssr:!1});function u(e){var t;let{onComplete:o}=e,[s,b]=(0,n.useState)(0),[u,f]=(0,n.useState)("tutorial-taxi-1"),[h,m]=(0,n.useState)(!1),{taxisRef:g,deliveriesRef:j,pickupNodesRef:v,deliveryTimerRef:w}=function(){let e=(0,n.useRef)([{id:"tutorial-taxi-1",state:"driving_to_pickup",path:null,t:0,speed:1.5,isFocused:!1,currentIntersectionId:void 0,incomingDir:0,previousNodeId:void 0,hasPackage:!1,currentDeliveryId:void 0,money:0,isReversing:!1,collisionCooldown:0}]),t=(0,n.useRef)([]),o=(0,n.useRef)(1e4),a=(0,n.useRef)([]),s=(0,n.useRef)(!1);return(0,n.useEffect)(()=>{let o=o=>{let{network:r}=o.detail;if(console.log("\uD83D\uDCDA Tutorial received road network update:",r),r.paths.length>0&&e.current[0]){let t=r.paths[0];e.current[0].path=t,e.current[0].t=0,console.log("✅ Tutorial taxi on path: ".concat(t.id)),console.log("   Total paths: ".concat(r.paths.length))}if(r.nodes){let e=r.nodes.filter(e=>e.types.includes("pickup"));if(a.current=e,console.log("\uD83D\uDCCD Tutorial has ".concat(e.length," pickup nodes")),e.length>=2&&!s.current){for(let o=0;o<2;o++){let o=(0,d.aK)(e,t.current);o&&t.current.push(o)}s.current=!0,console.log("\uD83C\uDFAE Tutorial spawned 2 initial deliveries")}}};return window.addEventListener("roadNetworkUpdated",o),()=>{window.removeEventListener("roadNetworkUpdated",o)}},[]),{taxisRef:e,deliveriesRef:t,pickupNodesRef:a,deliveryTimerRef:o}}(),k=[{title:"Welcome to Wayne Mo!",description:"Use the bottom left icons to control the camera. Pause the action with the icon in the bottom right or your Spacebar."},{title:"Control the Intersection",description:"Tap an intersection to change routing: Pass Through → Turn Left → Turn Right. The taxi follows your commands!"},{title:"Deliver Packages",description:"Pick up packages and deliver them to matching colored dropoff points. Route the taxi to collect and complete deliveries!"}],y=k[s],N=()=>{o()},z=(0,n.useCallback)(e=>{f(t=>t===e?null:e)},[]),C=(0,n.useCallback)(()=>{f(null)},[]),T=(0,n.useCallback)(()=>{m(e=>!e)},[]);return(0,n.useEffect)(()=>{let e=e=>{" "===e.key&&(e.preventDefault(),T())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[T]),(0,a.jsxs)("div",{className:"jsx-406cbbe96657e92a tutorial-container",children:[(0,a.jsx)(x,{taxisRef:g,deliveriesRef:j,pickupNodesRef:v,deliveryTimerRef:w,followTaxiId:u,isPaused:h}),(0,a.jsxs)("div",{className:"jsx-406cbbe96657e92a tutorial-overlay",children:[(0,a.jsx)(p.l,{taxisRef:g,onTaxiSelect:z,onResetCamera:C,selectedTaxiId:u}),(0,a.jsx)("button",{onClick:N,className:"jsx-406cbbe96657e92a start-game-button",children:"Start Game"}),(0,a.jsx)("div",{className:"jsx-406cbbe96657e92a pause-container",children:(0,a.jsx)("button",{onClick:T,className:"jsx-406cbbe96657e92a pause-button",children:h?(0,a.jsx)(i.A,{size:24}):(0,a.jsx)(c.A,{size:24})})}),(0,a.jsxs)("div",{className:"jsx-406cbbe96657e92a money-display",children:["$",(null==(t=g.current[0])?void 0:t.money)||0]}),(0,a.jsxs)("div",{className:"jsx-406cbbe96657e92a instruction-panel",children:[(0,a.jsx)("button",{onClick:N,title:"Close Tutorial",className:"jsx-406cbbe96657e92a close-button",children:(0,a.jsx)(l,{size:24})}),(0,a.jsx)("h2",{className:"jsx-406cbbe96657e92a step-title",children:y.title}),(0,a.jsx)("p",{className:"jsx-406cbbe96657e92a step-description",children:y.description}),(0,a.jsxs)("div",{className:"jsx-406cbbe96657e92a button-group",children:[s>0&&(0,a.jsx)("button",{onClick:()=>{s>0&&b(s-1)},className:"jsx-406cbbe96657e92a previous-button",children:"Previous"}),(0,a.jsx)("button",{onClick:()=>{s<k.length-1?b(s+1):o()},className:"jsx-406cbbe96657e92a next-button",children:s<k.length-1?"Next":"Start Game"})]}),(0,a.jsxs)("div",{className:"jsx-406cbbe96657e92a step-indicator",children:["Step ",s+1," of ",k.length]})]})]}),(0,a.jsx)(r(),{id:"406cbbe96657e92a",children:".tutorial-container.jsx-406cbbe96657e92a{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#000}.tutorial-overlay.jsx-406cbbe96657e92a{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:100}.start-game-button.jsx-406cbbe96657e92a{position:absolute;top:20px;left:20px;background:#ff0;color:#000;border:none;border-radius:8px;padding:12px 24px;font-size:1.1rem;font-weight:700;cursor:pointer;pointer-events:auto;transition:all.2s;box-shadow:0 4px 12px rgba(255,255,0,.4)}.start-game-button.jsx-406cbbe96657e92a:hover{background:#fff200;transform:translatey(-2px);box-shadow:0 6px 16px rgba(255,255,0,.5)}.pause-container.jsx-406cbbe96657e92a{position:absolute;bottom:20px;right:20px;pointer-events:auto;z-index:100}.pause-button.jsx-406cbbe96657e92a{width:50px;height:50px;background:rgba(255,255,255,.9);color:#000;border:2px solid#333;border-radius:8px;cursor:pointer;transition:all.2s;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 12px rgba(0,0,0,.3);padding:0}.pause-button.jsx-406cbbe96657e92a:hover{background:#fff;transform:scale(1.1);border-color:#f80}.pause-button.jsx-406cbbe96657e92a:active{transform:scale(.95)}.money-display.jsx-406cbbe96657e92a{position:absolute;top:20px;right:20px;font-size:32px;font-weight:bold;color:#ff0;text-shadow:2px 2px 4px rgba(0,0,0,.8);font-family:monospace;pointer-events:none;z-index:100}.instruction-panel.jsx-406cbbe96657e92a{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(0,0,0,.9);border:3px solid#ff0;border-radius:16px;padding:2.5rem;max-width:600px;width:90%;pointer-events:auto;box-shadow:0 8px 32px rgba(255,255,0,.3)}.close-button.jsx-406cbbe96657e92a{position:absolute;top:1rem;right:1rem;background:transparent;border:2px solid#666;color:#999;width:40px;height:40px;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all.2s;padding:0}.close-button.jsx-406cbbe96657e92a:hover{background:rgba(255,255,255,.1);border-color:#fff;color:#fff;transform:scale(1.1)}.close-button.jsx-406cbbe96657e92a:active{transform:scale(.95)}.step-title.jsx-406cbbe96657e92a{color:#ff0;font-size:2rem;font-weight:900;margin:0 0 1rem 0;text-align:center;text-shadow:2px 2px 4px rgba(0,0,0,.5)}.step-description.jsx-406cbbe96657e92a{color:#fff;font-size:1.2rem;margin:0 0 2rem 0;text-align:center;line-height:1.6}.button-group.jsx-406cbbe96657e92a{display:flex;gap:1rem;justify-content:center;margin-bottom:1rem}.next-button.jsx-406cbbe96657e92a,.previous-button.jsx-406cbbe96657e92a{padding:1rem 2rem;font-size:1.1rem;font-weight:700;border-radius:8px;cursor:pointer;transition:all.2s;border:none}.next-button.jsx-406cbbe96657e92a{background:#ff0;color:#000;box-shadow:0 4px 12px rgba(255,255,0,.4)}.next-button.jsx-406cbbe96657e92a:hover{background:#fff200;transform:translatey(-2px);box-shadow:0 6px 16px rgba(255,255,0,.5)}.previous-button.jsx-406cbbe96657e92a{background:transparent;color:#fff;border:2px solid#666}.previous-button.jsx-406cbbe96657e92a:hover{border-color:#fff;transform:translatey(-2px)}.step-indicator.jsx-406cbbe96657e92a{text-align:center;color:#999;font-size:.9rem;margin-top:1rem}@media(max-width:768px){.instruction-panel.jsx-406cbbe96657e92a{padding:2rem 1.5rem 1.5rem;width:95%}.close-button.jsx-406cbbe96657e92a{top:.75rem;right:.75rem;width:36px;height:36px}.step-title.jsx-406cbbe96657e92a{font-size:1.5rem;margin-top:.5rem}.step-description.jsx-406cbbe96657e92a{font-size:1rem}.next-button.jsx-406cbbe96657e92a,.previous-button.jsx-406cbbe96657e92a{padding:.75rem 1.5rem;font-size:1rem}.start-game-button.jsx-406cbbe96657e92a{top:10px;left:10px;padding:8px 16px;font-size:.9rem}.pause-container.jsx-406cbbe96657e92a{bottom:10px;right:10px}.pause-button.jsx-406cbbe96657e92a{width:40px;height:40px}}@media(max-width:480px){.instruction-panel.jsx-406cbbe96657e92a{padding:1.75rem 1.25rem 1.25rem}.close-button.jsx-406cbbe96657e92a{width:32px;height:32px}.step-title.jsx-406cbbe96657e92a{font-size:1.25rem}.step-description.jsx-406cbbe96657e92a{font-size:.9rem;margin-bottom:1.5rem}.next-button.jsx-406cbbe96657e92a,.previous-button.jsx-406cbbe96657e92a{padding:.65rem 1.25rem;font-size:.9rem}}"})]})}}}]);
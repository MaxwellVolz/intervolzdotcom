"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[535],{3646:(e,t,n)=>{let o,i;n.d(t,{E:()=>g});var r=n(8945),a=n(2115),s=n(2669),l=n(5339),c=n(9980);let u=new l.Pq0,d=new l.Pq0,m=new l.Pq0,p=new l.I9Y;function h(e,t,n){let o=u.setFromMatrixPosition(e.matrixWorld);o.project(t);let i=n.width/2,r=n.height/2;return[o.x*i+i,-(o.y*r)+r]}let f=e=>1e-10>Math.abs(e)?0:e;function b(e,t,n=""){let o="matrix3d(";for(let n=0;16!==n;n++)o+=f(t[n]*e.elements[n])+(15!==n?",":")");return n+o}let v=(o=[1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1],e=>b(e,o)),y=(i=e=>[1/e,1/e,1/e,1,-1/e,-1/e,-1/e,-1,1/e,1/e,1/e,1,1,1,1,1],(e,t)=>b(e,i(t),"translate(-50%,-50%)")),g=a.forwardRef(({children:e,eps:t=.001,style:n,className:o,prepend:i,center:b,fullscreen:g,portal:x,distanceFactor:E,sprite:P=!1,transform:M=!1,occlude:w,onOcclude:A,castShadow:O,receiveShadow:j,material:k,geometry:T,zIndexRange:L=[0x1000037,0],calculatePosition:I=h,as:R="div",wrapperClass:S,pointerEvents:N="auto",...C},z)=>{let{gl:D,camera:Y,scene:F,size:_,raycaster:W,events:q,viewport:H}=(0,c.C)(),[U]=a.useState(()=>document.createElement(R)),Z=a.useRef(null),X=a.useRef(null),V=a.useRef(0),B=a.useRef([0,0]),$=a.useRef(null),K=a.useRef(null),G=(null==x?void 0:x.current)||q.connected||D.domElement.parentNode,Q=a.useRef(null),J=a.useRef(!1),ee=a.useMemo(()=>w&&"blending"!==w||Array.isArray(w)&&w.length&&function(e){return e&&"object"==typeof e&&"current"in e}(w[0]),[w]);a.useLayoutEffect(()=>{let e=D.domElement;w&&"blending"===w?(e.style.zIndex=`${Math.floor(L[0]/2)}`,e.style.position="absolute",e.style.pointerEvents="none"):(e.style.zIndex=null,e.style.position=null,e.style.pointerEvents=null)},[w]),a.useLayoutEffect(()=>{if(X.current){let e=Z.current=s.createRoot(U);if(F.updateMatrixWorld(),M)U.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{let e=I(X.current,Y,_);U.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${e[0]}px,${e[1]}px,0);transform-origin:0 0;`}return G&&(i?G.prepend(U):G.appendChild(U)),()=>{G&&G.removeChild(U),e.unmount()}}},[G,M]),a.useLayoutEffect(()=>{S&&(U.className=S)},[S]);let et=a.useMemo(()=>M?{position:"absolute",top:0,left:0,width:_.width,height:_.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:b?"translate3d(-50%,-50%,0)":"none",...g&&{top:-_.height/2,left:-_.width/2,width:_.width,height:_.height},...n},[n,b,g,_,M]),en=a.useMemo(()=>({position:"absolute",pointerEvents:N}),[N]);a.useLayoutEffect(()=>{var t,i;J.current=!1,M?null==(t=Z.current)||t.render(a.createElement("div",{ref:$,style:et},a.createElement("div",{ref:K,style:en},a.createElement("div",{ref:z,className:o,style:n,children:e})))):null==(i=Z.current)||i.render(a.createElement("div",{ref:z,style:et,className:o,children:e}))});let eo=a.useRef(!0);(0,c.D)(e=>{if(X.current){Y.updateMatrixWorld(),X.current.updateWorldMatrix(!0,!1);let e=M?B.current:I(X.current,Y,_);if(M||Math.abs(V.current-Y.zoom)>t||Math.abs(B.current[0]-e[0])>t||Math.abs(B.current[1]-e[1])>t){let t=function(e,t){let n=u.setFromMatrixPosition(e.matrixWorld),o=d.setFromMatrixPosition(t.matrixWorld),i=n.sub(o),r=t.getWorldDirection(m);return i.angleTo(r)>Math.PI/2}(X.current,Y),n=!1;ee&&(Array.isArray(w)?n=w.map(e=>e.current):"blending"!==w&&(n=[F]));let o=eo.current;n?eo.current=function(e,t,n,o){let i=u.setFromMatrixPosition(e.matrixWorld),r=i.clone();r.project(t),p.set(r.x,r.y),n.setFromCamera(p,t);let a=n.intersectObjects(o,!0);if(a.length){let e=a[0].distance;return i.distanceTo(n.ray.origin)<e}return!0}(X.current,Y,W,n)&&!t:eo.current=!t,o!==eo.current&&(A?A(!eo.current):U.style.display=eo.current?"block":"none");let i=Math.floor(L[0]/2),r=w?ee?[L[0],i]:[i-1,0]:L;if(U.style.zIndex=`${function(e,t,n){if(t instanceof l.ubm||t instanceof l.qUd){let o=u.setFromMatrixPosition(e.matrixWorld),i=d.setFromMatrixPosition(t.matrixWorld),r=o.distanceTo(i),a=(n[1]-n[0])/(t.far-t.near),s=n[1]-a*t.far;return Math.round(a*r+s)}}(X.current,Y,r)}`,M){let[e,t]=[_.width/2,_.height/2],n=Y.projectionMatrix.elements[5]*t,{isOrthographicCamera:o,top:i,left:r,bottom:a,right:s}=Y,l=v(Y.matrixWorldInverse),c=o?`scale(${n})translate(${f(-(s+r)/2)}px,${f((i+a)/2)}px)`:`translateZ(${n}px)`,u=X.current.matrixWorld;P&&((u=Y.matrixWorldInverse.clone().transpose().copyPosition(u).scale(X.current.scale)).elements[3]=u.elements[7]=u.elements[11]=0,u.elements[15]=1),U.style.width=_.width+"px",U.style.height=_.height+"px",U.style.perspective=o?"":`${n}px`,$.current&&K.current&&($.current.style.transform=`${c}${l}translate(${e}px,${t}px)`,K.current.style.transform=y(u,1/((E||10)/400)))}else{let t=void 0===E?1:function(e,t){if(t instanceof l.qUd)return t.zoom;if(!(t instanceof l.ubm))return 1;{let n=u.setFromMatrixPosition(e.matrixWorld),o=d.setFromMatrixPosition(t.matrixWorld);return 1/(2*Math.tan(t.fov*Math.PI/180/2)*n.distanceTo(o))}}(X.current,Y)*E;U.style.transform=`translate3d(${e[0]}px,${e[1]}px,0) scale(${t})`}B.current=e,V.current=Y.zoom}}if(!ee&&Q.current&&!J.current)if(M){if($.current){let e=$.current.children[0];if(null!=e&&e.clientWidth&&null!=e&&e.clientHeight){let{isOrthographicCamera:t}=Y;if(t||T)C.scale&&(Array.isArray(C.scale)?C.scale instanceof l.Pq0?Q.current.scale.copy(C.scale.clone().divideScalar(1)):Q.current.scale.set(1/C.scale[0],1/C.scale[1],1/C.scale[2]):Q.current.scale.setScalar(1/C.scale));else{let t=(E||10)/400,n=e.clientWidth*t,o=e.clientHeight*t;Q.current.scale.set(n,o,1)}J.current=!0}}}else{let t=U.children[0];if(null!=t&&t.clientWidth&&null!=t&&t.clientHeight){let e=1/H.factor,n=t.clientWidth*e,o=t.clientHeight*e;Q.current.scale.set(n,o,1),J.current=!0}Q.current.lookAt(e.camera.position)}});let ei=a.useMemo(()=>({vertexShader:M?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[M]);return a.createElement("group",(0,r.A)({},C,{ref:X}),w&&!ee&&a.createElement("mesh",{castShadow:O,receiveShadow:j,ref:Q},T||a.createElement("planeGeometry",null),k||a.createElement("shaderMaterial",{side:l.$EB,vertexShader:ei.vertexShader,fragmentShader:ei.fragmentShader})))})},3804:(e,t,n)=>{n.d(t,{A:()=>o});let o=(0,n(1847).A)("refresh-ccw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]])},6750:(e,t,n)=>{n.d(t,{N:()=>b});var o=n(8945),i=n(9980),r=n(2115),a=n(5339),s=Object.defineProperty;class l{constructor(){((e,t,n)=>((e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,void 0))(this,"_listeners")}addEventListener(e,t){void 0===this._listeners&&(this._listeners={});let n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;let n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;let n=this._listeners[e];if(void 0!==n){let e=n.indexOf(t);-1!==e&&n.splice(e,1)}}dispatchEvent(e){if(void 0===this._listeners)return;let t=this._listeners[e.type];if(void 0!==t){e.target=this;let n=t.slice(0);for(let t=0,o=n.length;t<o;t++)n[t].call(this,e);e.target=null}}}var c=Object.defineProperty,u=(e,t,n)=>(((e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n),n);let d=new a.RlV,m=new a.Zcv,p=Math.cos(Math.PI/180*70),h=(e,t)=>(e%t+t)%t;class f extends l{constructor(e,t){super(),u(this,"object"),u(this,"domElement"),u(this,"enabled",!0),u(this,"target",new a.Pq0),u(this,"minDistance",0),u(this,"maxDistance",1/0),u(this,"minZoom",0),u(this,"maxZoom",1/0),u(this,"minPolarAngle",0),u(this,"maxPolarAngle",Math.PI),u(this,"minAzimuthAngle",-1/0),u(this,"maxAzimuthAngle",1/0),u(this,"enableDamping",!1),u(this,"dampingFactor",.05),u(this,"enableZoom",!0),u(this,"zoomSpeed",1),u(this,"enableRotate",!0),u(this,"rotateSpeed",1),u(this,"enablePan",!0),u(this,"panSpeed",1),u(this,"screenSpacePanning",!0),u(this,"keyPanSpeed",7),u(this,"zoomToCursor",!1),u(this,"autoRotate",!1),u(this,"autoRotateSpeed",2),u(this,"reverseOrbit",!1),u(this,"reverseHorizontalOrbit",!1),u(this,"reverseVerticalOrbit",!1),u(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),u(this,"mouseButtons",{LEFT:a.kBv.ROTATE,MIDDLE:a.kBv.DOLLY,RIGHT:a.kBv.PAN}),u(this,"touches",{ONE:a.wtR.ROTATE,TWO:a.wtR.DOLLY_PAN}),u(this,"target0"),u(this,"position0"),u(this,"zoom0"),u(this,"_domElementKeyEvents",null),u(this,"getPolarAngle"),u(this,"getAzimuthalAngle"),u(this,"setPolarAngle"),u(this,"setAzimuthalAngle"),u(this,"getDistance"),u(this,"getZoomScale"),u(this,"listenToKeyEvents"),u(this,"stopListenToKeyEvents"),u(this,"saveState"),u(this,"reset"),u(this,"update"),u(this,"connect"),u(this,"dispose"),u(this,"dollyIn"),u(this,"dollyOut"),u(this,"getScale"),u(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>f.phi,this.getAzimuthalAngle=()=>f.theta,this.setPolarAngle=e=>{let t=h(e,2*Math.PI),o=f.phi;o<0&&(o+=2*Math.PI),t<0&&(t+=2*Math.PI);let i=Math.abs(t-o);2*Math.PI-i<i&&(t<o?t+=2*Math.PI:o+=2*Math.PI),b.phi=t-o,n.update()},this.setAzimuthalAngle=e=>{let t=h(e,2*Math.PI),o=f.theta;o<0&&(o+=2*Math.PI),t<0&&(t+=2*Math.PI);let i=Math.abs(t-o);2*Math.PI-i<i&&(t<o?t+=2*Math.PI:o+=2*Math.PI),b.theta=t-o,n.update()},this.getDistance=()=>n.object.position.distanceTo(n.target),this.listenToKeyEvents=e=>{e.addEventListener("keydown",ee),this._domElementKeyEvents=e},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",ee),this._domElementKeyEvents=null},this.saveState=()=>{n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=()=>{n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(o),n.update(),l=s.NONE},this.update=(()=>{let t=new a.Pq0,i=new a.Pq0(0,1,0),r=new a.PTz().setFromUnitVectors(e.up,i),u=r.clone().invert(),h=new a.Pq0,g=new a.PTz,x=2*Math.PI;return function(){let E=n.object.position;r.setFromUnitVectors(e.up,i),u.copy(r).invert(),t.copy(E).sub(n.target),t.applyQuaternion(r),f.setFromVector3(t),n.autoRotate&&l===s.NONE&&N(2*Math.PI/60/60*n.autoRotateSpeed),n.enableDamping?(f.theta+=b.theta*n.dampingFactor,f.phi+=b.phi*n.dampingFactor):(f.theta+=b.theta,f.phi+=b.phi);let P=n.minAzimuthAngle,M=n.maxAzimuthAngle;isFinite(P)&&isFinite(M)&&(P<-Math.PI?P+=x:P>Math.PI&&(P-=x),M<-Math.PI?M+=x:M>Math.PI&&(M-=x),P<=M?f.theta=Math.max(P,Math.min(M,f.theta)):f.theta=f.theta>(P+M)/2?Math.max(P,f.theta):Math.min(M,f.theta)),f.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,f.phi)),f.makeSafe(),!0===n.enableDamping?n.target.addScaledVector(y,n.dampingFactor):n.target.add(y),n.zoomToCursor&&L||n.object.isOrthographicCamera?f.radius=W(f.radius):f.radius=W(f.radius*v),t.setFromSpherical(f),t.applyQuaternion(u),E.copy(n.target).add(t),n.object.matrixAutoUpdate||n.object.updateMatrix(),n.object.lookAt(n.target),!0===n.enableDamping?(b.theta*=1-n.dampingFactor,b.phi*=1-n.dampingFactor,y.multiplyScalar(1-n.dampingFactor)):(b.set(0,0,0),y.set(0,0,0));let w=!1;if(n.zoomToCursor&&L){let o=null;if(n.object instanceof a.ubm&&n.object.isPerspectiveCamera){let e=t.length();o=W(e*v);let i=e-o;n.object.position.addScaledVector(k,i),n.object.updateMatrixWorld()}else if(n.object.isOrthographicCamera){let e=new a.Pq0(T.x,T.y,0);e.unproject(n.object),n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/v)),n.object.updateProjectionMatrix(),w=!0;let i=new a.Pq0(T.x,T.y,0);i.unproject(n.object),n.object.position.sub(i).add(e),n.object.updateMatrixWorld(),o=t.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),n.zoomToCursor=!1;null!==o&&(n.screenSpacePanning?n.target.set(0,0,-1).transformDirection(n.object.matrix).multiplyScalar(o).add(n.object.position):(d.origin.copy(n.object.position),d.direction.set(0,0,-1).transformDirection(n.object.matrix),Math.abs(n.object.up.dot(d.direction))<p?e.lookAt(n.target):(m.setFromNormalAndCoplanarPoint(n.object.up,n.target),d.intersectPlane(m,n.target))))}else n.object instanceof a.qUd&&n.object.isOrthographicCamera&&(w=1!==v)&&(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/v)),n.object.updateProjectionMatrix());return v=1,L=!1,!!(w||h.distanceToSquared(n.object.position)>c||8*(1-g.dot(n.object.quaternion))>c)&&(n.dispatchEvent(o),h.copy(n.object.position),g.copy(n.object.quaternion),w=!1,!0)}})(),this.connect=e=>{n.domElement=e,n.domElement.style.touchAction="none",n.domElement.addEventListener("contextmenu",et),n.domElement.addEventListener("pointerdown",K),n.domElement.addEventListener("pointercancel",Q),n.domElement.addEventListener("wheel",J)},this.dispose=()=>{var e,t,o,i,r,a;n.domElement&&(n.domElement.style.touchAction="auto"),null==(e=n.domElement)||e.removeEventListener("contextmenu",et),null==(t=n.domElement)||t.removeEventListener("pointerdown",K),null==(o=n.domElement)||o.removeEventListener("pointercancel",Q),null==(i=n.domElement)||i.removeEventListener("wheel",J),null==(r=n.domElement)||r.ownerDocument.removeEventListener("pointermove",G),null==(a=n.domElement)||a.ownerDocument.removeEventListener("pointerup",Q),null!==n._domElementKeyEvents&&n._domElementKeyEvents.removeEventListener("keydown",ee)};let n=this,o={type:"change"},i={type:"start"},r={type:"end"},s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},l=s.NONE,c=1e-6,f=new a.YHV,b=new a.YHV,v=1,y=new a.Pq0,g=new a.I9Y,x=new a.I9Y,E=new a.I9Y,P=new a.I9Y,M=new a.I9Y,w=new a.I9Y,A=new a.I9Y,O=new a.I9Y,j=new a.I9Y,k=new a.Pq0,T=new a.I9Y,L=!1,I=[],R={};function S(){return Math.pow(.95,n.zoomSpeed)}function N(e){n.reverseOrbit||n.reverseHorizontalOrbit?b.theta+=e:b.theta-=e}function C(e){n.reverseOrbit||n.reverseVerticalOrbit?b.phi+=e:b.phi-=e}let z=(()=>{let e=new a.Pq0;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),y.add(e)}})(),D=(()=>{let e=new a.Pq0;return function(t,o){!0===n.screenSpacePanning?e.setFromMatrixColumn(o,1):(e.setFromMatrixColumn(o,0),e.crossVectors(n.object.up,e)),e.multiplyScalar(t),y.add(e)}})(),Y=(()=>{let e=new a.Pq0;return function(t,o){let i=n.domElement;if(i&&n.object instanceof a.ubm&&n.object.isPerspectiveCamera){let r=n.object.position;e.copy(r).sub(n.target);let a=e.length();z(2*t*(a*=Math.tan(n.object.fov/2*Math.PI/180))/i.clientHeight,n.object.matrix),D(2*o*a/i.clientHeight,n.object.matrix)}else i&&n.object instanceof a.qUd&&n.object.isOrthographicCamera?(z(t*(n.object.right-n.object.left)/n.object.zoom/i.clientWidth,n.object.matrix),D(o*(n.object.top-n.object.bottom)/n.object.zoom/i.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}})();function F(e){n.object instanceof a.ubm&&n.object.isPerspectiveCamera||n.object instanceof a.qUd&&n.object.isOrthographicCamera?v=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function _(e){if(!n.zoomToCursor||!n.domElement)return;L=!0;let t=n.domElement.getBoundingClientRect(),o=e.clientX-t.left,i=e.clientY-t.top,r=t.width,a=t.height;T.x=o/r*2-1,T.y=-(i/a*2)+1,k.set(T.x,T.y,1).unproject(n.object).sub(n.object.position).normalize()}function W(e){return Math.max(n.minDistance,Math.min(n.maxDistance,e))}function q(e){g.set(e.clientX,e.clientY)}function H(e){P.set(e.clientX,e.clientY)}function U(){if(1==I.length)g.set(I[0].pageX,I[0].pageY);else{let e=.5*(I[0].pageX+I[1].pageX),t=.5*(I[0].pageY+I[1].pageY);g.set(e,t)}}function Z(){if(1==I.length)P.set(I[0].pageX,I[0].pageY);else{let e=.5*(I[0].pageX+I[1].pageX),t=.5*(I[0].pageY+I[1].pageY);P.set(e,t)}}function X(){let e=I[0].pageX-I[1].pageX,t=I[0].pageY-I[1].pageY,n=Math.sqrt(e*e+t*t);A.set(0,n)}function V(e){if(1==I.length)x.set(e.pageX,e.pageY);else{let t=eo(e),n=.5*(e.pageX+t.x),o=.5*(e.pageY+t.y);x.set(n,o)}E.subVectors(x,g).multiplyScalar(n.rotateSpeed);let t=n.domElement;t&&(N(2*Math.PI*E.x/t.clientHeight),C(2*Math.PI*E.y/t.clientHeight)),g.copy(x)}function B(e){if(1==I.length)M.set(e.pageX,e.pageY);else{let t=eo(e),n=.5*(e.pageX+t.x),o=.5*(e.pageY+t.y);M.set(n,o)}w.subVectors(M,P).multiplyScalar(n.panSpeed),Y(w.x,w.y),P.copy(M)}function $(e){var t;let o=eo(e),i=e.pageX-o.x,r=e.pageY-o.y,a=Math.sqrt(i*i+r*r);O.set(0,a),j.set(0,Math.pow(O.y/A.y,n.zoomSpeed)),t=j.y,F(v/t),A.copy(O)}function K(e){var t,o,r;!1!==n.enabled&&(0===I.length&&(null==(t=n.domElement)||t.ownerDocument.addEventListener("pointermove",G),null==(o=n.domElement)||o.ownerDocument.addEventListener("pointerup",Q)),r=e,I.push(r),"touch"===e.pointerType?function(e){switch(en(e),I.length){case 1:switch(n.touches.ONE){case a.wtR.ROTATE:if(!1===n.enableRotate)return;U(),l=s.TOUCH_ROTATE;break;case a.wtR.PAN:if(!1===n.enablePan)return;Z(),l=s.TOUCH_PAN;break;default:l=s.NONE}break;case 2:switch(n.touches.TWO){case a.wtR.DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;n.enableZoom&&X(),n.enablePan&&Z(),l=s.TOUCH_DOLLY_PAN;break;case a.wtR.DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;n.enableZoom&&X(),n.enableRotate&&U(),l=s.TOUCH_DOLLY_ROTATE;break;default:l=s.NONE}break;default:l=s.NONE}l!==s.NONE&&n.dispatchEvent(i)}(e):function(e){let t;switch(e.button){case 0:t=n.mouseButtons.LEFT;break;case 1:t=n.mouseButtons.MIDDLE;break;case 2:t=n.mouseButtons.RIGHT;break;default:t=-1}switch(t){case a.kBv.DOLLY:if(!1===n.enableZoom)return;_(e),A.set(e.clientX,e.clientY),l=s.DOLLY;break;case a.kBv.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enablePan)return;H(e),l=s.PAN}else{if(!1===n.enableRotate)return;q(e),l=s.ROTATE}break;case a.kBv.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enableRotate)return;q(e),l=s.ROTATE}else{if(!1===n.enablePan)return;H(e),l=s.PAN}break;default:l=s.NONE}l!==s.NONE&&n.dispatchEvent(i)}(e))}function G(e){!1!==n.enabled&&("touch"===e.pointerType?function(e){switch(en(e),l){case s.TOUCH_ROTATE:if(!1===n.enableRotate)return;V(e),n.update();break;case s.TOUCH_PAN:if(!1===n.enablePan)return;B(e),n.update();break;case s.TOUCH_DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;n.enableZoom&&$(e),n.enablePan&&B(e),n.update();break;case s.TOUCH_DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;n.enableZoom&&$(e),n.enableRotate&&V(e),n.update();break;default:l=s.NONE}}(e):function(e){if(!1!==n.enabled)switch(l){case s.ROTATE:if(!1===n.enableRotate)return;x.set(e.clientX,e.clientY),E.subVectors(x,g).multiplyScalar(n.rotateSpeed);let t=n.domElement;t&&(N(2*Math.PI*E.x/t.clientHeight),C(2*Math.PI*E.y/t.clientHeight)),g.copy(x),n.update();break;case s.DOLLY:var o,i;if(!1===n.enableZoom)return;(O.set(e.clientX,e.clientY),j.subVectors(O,A),j.y>0)?(o=S(),F(v/o)):j.y<0&&(i=S(),F(v*i)),A.copy(O),n.update();break;case s.PAN:if(!1===n.enablePan)return;M.set(e.clientX,e.clientY),w.subVectors(M,P).multiplyScalar(n.panSpeed),Y(w.x,w.y),P.copy(M),n.update()}}(e))}function Q(e){var t,o,i;(function(e){delete R[e.pointerId];for(let t=0;t<I.length;t++)if(I[t].pointerId==e.pointerId)return void I.splice(t,1)})(e),0===I.length&&(null==(t=n.domElement)||t.releasePointerCapture(e.pointerId),null==(o=n.domElement)||o.ownerDocument.removeEventListener("pointermove",G),null==(i=n.domElement)||i.ownerDocument.removeEventListener("pointerup",Q)),n.dispatchEvent(r),l=s.NONE}function J(e){if(!1!==n.enabled&&!1!==n.enableZoom&&(l===s.NONE||l===s.ROTATE)){var t,o;e.preventDefault(),n.dispatchEvent(i),(_(e),e.deltaY<0)?(t=S(),F(v*t)):e.deltaY>0&&(o=S(),F(v/o)),n.update(),n.dispatchEvent(r)}}function ee(e){if(!1!==n.enabled&&!1!==n.enablePan){let t=!1;switch(e.code){case n.keys.UP:Y(0,n.keyPanSpeed),t=!0;break;case n.keys.BOTTOM:Y(0,-n.keyPanSpeed),t=!0;break;case n.keys.LEFT:Y(n.keyPanSpeed,0),t=!0;break;case n.keys.RIGHT:Y(-n.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),n.update())}}function et(e){!1!==n.enabled&&e.preventDefault()}function en(e){let t=R[e.pointerId];void 0===t&&(t=new a.I9Y,R[e.pointerId]=t),t.set(e.pageX,e.pageY)}function eo(e){return R[(e.pointerId===I[0].pointerId?I[1]:I[0]).pointerId]}this.dollyIn=(e=S())=>{F(v*e),n.update()},this.dollyOut=(e=S())=>{F(v/e),n.update()},this.getScale=()=>v,this.setScale=e=>{F(e),n.update()},this.getZoomScale=()=>S(),void 0!==t&&this.connect(t),this.update()}}let b=r.forwardRef(({makeDefault:e,camera:t,regress:n,domElement:a,enableDamping:s=!0,keyEvents:l=!1,onChange:c,onStart:u,onEnd:d,...m},p)=>{let h=(0,i.C)(e=>e.invalidate),b=(0,i.C)(e=>e.camera),v=(0,i.C)(e=>e.gl),y=(0,i.C)(e=>e.events),g=(0,i.C)(e=>e.setEvents),x=(0,i.C)(e=>e.set),E=(0,i.C)(e=>e.get),P=(0,i.C)(e=>e.performance),M=t||b,w=a||y.connected||v.domElement,A=r.useMemo(()=>new f(M),[M]);return(0,i.D)(()=>{A.enabled&&A.update()},-1),r.useEffect(()=>(l&&A.connect(!0===l?w:l),A.connect(w),()=>void A.dispose()),[l,w,n,A,h]),r.useEffect(()=>{let e=e=>{h(),n&&P.regress(),c&&c(e)},t=e=>{u&&u(e)},o=e=>{d&&d(e)};return A.addEventListener("change",e),A.addEventListener("start",t),A.addEventListener("end",o),()=>{A.removeEventListener("start",t),A.removeEventListener("end",o),A.removeEventListener("change",e)}},[c,u,d,A,h,g]),r.useEffect(()=>{if(e){let e=E().controls;return x({controls:A}),()=>x({controls:e})}},[e,A]),r.createElement("primitive",(0,o.A)({ref:p,object:A,enableDamping:s},m))})},7821:(e,t,n)=>{n.d(t,{i:()=>s});var o=n(8945),i=n(5339),r=n(2115),a=n(8148);let s=r.forwardRef(({isChild:e=!1,object:t,children:n,deep:l,castShadow:c,receiveShadow:u,inject:d,keys:m,...p},h)=>{let f={keys:m,deep:l,inject:d,castShadow:c,receiveShadow:u};if(Array.isArray(t=r.useMemo(()=>{if(!1===e&&!Array.isArray(t)){let e=!1;if(t.traverse(t=>{t.isSkinnedMesh&&(e=!0)}),e)return a.t.clone(t)}return t},[t,e])))return r.createElement("group",(0,o.A)({},p,{ref:h}),t.map(e=>r.createElement(s,(0,o.A)({key:e.uuid,object:e},f))),n);let{children:b,...v}=function(e,{keys:t=["near","far","color","distance","decay","penumbra","angle","intensity","skeleton","visible","castShadow","receiveShadow","morphTargetDictionary","morphTargetInfluences","name","geometry","material","position","rotation","scale","up","userData","bindMode","bindMatrix","bindMatrixInverse","skeleton"],deep:n,inject:o,castShadow:a,receiveShadow:s}){let l={};for(let n of t)l[n]=e[n];return n&&(l.geometry&&"materialsOnly"!==n&&(l.geometry=l.geometry.clone()),l.material&&"geometriesOnly"!==n&&(l.material=l.material.clone())),o&&(l="function"==typeof o?{...l,children:o(e)}:r.isValidElement(o)?{...l,children:o}:{...l,...o}),e instanceof i.eaF&&(a&&(l.castShadow=!0),s&&(l.receiveShadow=!0)),l}(t,f),y=t.type[0].toLowerCase()+t.type.slice(1);return r.createElement(y,(0,o.A)({},v,p,{ref:h}),t.children.map(e=>"Bone"===e.type?r.createElement("primitive",(0,o.A)({key:e.uuid,object:e},f)):r.createElement(s,(0,o.A)({key:e.uuid,object:e},f,{isChild:!0}))),n,b)})},8148:(e,t,n)=>{n.d(t,{t:()=>s});var o=n(5339);function i(e,t,n={}){let s,l,c,u,d,m=new o.Pq0,p=new o.PTz,h=new o.Pq0,f=new o.kn4,b=new o.kn4,v=new o.kn4;n.preserveMatrix=void 0===n.preserveMatrix||n.preserveMatrix,n.preservePosition=void 0===n.preservePosition||n.preservePosition,n.preserveHipPosition=void 0!==n.preserveHipPosition&&n.preserveHipPosition,n.useTargetMatrix=void 0!==n.useTargetMatrix&&n.useTargetMatrix,n.hip=void 0!==n.hip?n.hip:"hip",n.names=n.names||{};let y=t.isObject3D?t.skeleton.bones:a(t),g=e.isObject3D?e.skeleton.bones:a(e);if(e.isObject3D?e.skeleton.pose():(n.useTargetMatrix=!0,n.preserveMatrix=!1),n.preservePosition){d=[];for(let e=0;e<g.length;e++)d.push(g[e].position.clone())}if(n.preserveMatrix){e.updateMatrixWorld(),e.matrixWorld.identity();for(let t=0;t<e.children.length;++t)e.children[t].updateMatrixWorld(!0)}if(n.offsets){s=[];for(let e=0;e<g.length;++e)l=g[e],c=n.names[l.name]||l.name,n.offsets[c]&&(l.matrix.multiply(n.offsets[c]),l.matrix.decompose(l.position,l.quaternion,l.scale),l.updateMatrixWorld()),s.push(l.matrixWorld.clone())}for(let t=0;t<g.length;++t){if(l=g[t],u=r(c=n.names[l.name]||l.name,y),v.copy(l.matrixWorld),u){if(u.updateMatrixWorld(),n.useTargetMatrix?b.copy(u.matrixWorld):(b.copy(e.matrixWorld).invert(),b.multiply(u.matrixWorld)),h.setFromMatrixScale(b),b.scale(h.set(1/h.x,1/h.y,1/h.z)),v.makeRotationFromQuaternion(p.setFromRotationMatrix(b)),e.isObject3D){let t=g.indexOf(l),n=s?s[t]:f.copy(e.skeleton.boneInverses[t]).invert();v.multiply(n)}v.copyPosition(b)}l.parent&&l.parent.isBone?(l.matrix.copy(l.parent.matrixWorld).invert(),l.matrix.multiply(v)):l.matrix.copy(v),n.preserveHipPosition&&c===n.hip&&l.matrix.setPosition(m.set(0,l.position.y,0)),l.matrix.decompose(l.position,l.quaternion,l.scale),l.updateMatrixWorld()}if(n.preservePosition)for(let e=0;e<g.length;++e)l=g[e],(c=n.names[l.name]||l.name)!==n.hip&&l.position.copy(d[e]);n.preserveMatrix&&e.updateMatrixWorld(!0)}function r(e,t){for(let n=0,o=a(t);n<o.length;n++)if(e===o[n].name)return o[n]}function a(e){return Array.isArray(e)?e:e.bones}let s={retarget:i,retargetClip:function(e,t,n,s={}){let l,c,u,d;s.useFirstFramePosition=void 0!==s.useFirstFramePosition&&s.useFirstFramePosition,s.fps=void 0!==s.fps?s.fps:30,s.names=s.names||[],t.isObject3D||(t=function(e){let t=new o._xc(e.bones[0]);return t.skeleton=e,t}(t));let m=Math.round(n.duration*(s.fps/1e3)*1e3),p=1/s.fps,h=[],f=new o.Iw4(t),b=a(e.skeleton),v=[];f.clipAction(n).play(),f.update(0),t.updateMatrixWorld();for(let n=0;n<m;++n){let o=n*p;i(e,t,s);for(let e=0;e<b.length;++e)r(d=s.names[b[e].name]||b[e].name,t.skeleton)&&(c=b[e],u=v[e]=v[e]||{bone:c},s.hip===d&&(u.pos||(u.pos={times:new Float32Array(m),values:new Float32Array(3*m)}),s.useFirstFramePosition&&(0===n&&(l=c.position.clone()),c.position.sub(l)),u.pos.times[n]=o,c.position.toArray(u.pos.values,3*n)),u.quat||(u.quat={times:new Float32Array(m),values:new Float32Array(4*m)}),u.quat.times[n]=o,c.quaternion.toArray(u.quat.values,4*n));f.update(p),t.updateMatrixWorld()}for(let e=0;e<v.length;++e)(u=v[e])&&(u.pos&&h.push(new o.RiT(".bones["+u.bone.name+"].position",u.pos.times,u.pos.values)),h.push(new o.MBL(".bones["+u.bone.name+"].quaternion",u.quat.times,u.quat.values)));return f.uncacheAction(n),new o.tz3(n.name,-1,h)},clone:function(e){let t=new Map,n=new Map,o=e.clone();return function e(t,n,o){o(t,n);for(let i=0;i<t.children.length;i++)e(t.children[i],n.children[i],o)}(e,o,function(e,o){t.set(o,e),n.set(e,o)}),o.traverse(function(e){if(!e.isSkinnedMesh)return;let o=t.get(e),i=o.skeleton.bones;e.skeleton=o.skeleton.clone(),e.bindMatrix.copy(o.bindMatrix),e.skeleton.bones=i.map(function(e){return n.get(e)}),e.bind(e.skeleton,e.bindMatrix)}),o}}},9074:(e,t,n)=>{n.d(t,{A:()=>o});let o=(0,n(1847).A)("move",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]])},9559:(e,t,n)=>{n.d(t,{A:()=>o});let o=(0,n(1847).A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])}}]);
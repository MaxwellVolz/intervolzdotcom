"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[380],{2380:(t,e,a)=>{a.r(e),a.d(e,{default:()=>f});var o=a(5155),r=a(258),i=a(6750),n=a(3531),s=a(2115);function m(t){let{nodes:e,materials:a}=(0,n.p)("/models/city_01.glb");return(0,o.jsx)("group",{...t,dispose:null,children:(0,o.jsxs)("group",{name:"Scene",userData:{blosm:{defaultLevels:[{levels:4,weight:10},{levels:5,weight:40},{levels:6,weight:10}]}},children:[(0,o.jsx)("group",{name:"PathNode_01",position:[-3.5,0,-4.5],userData:{name:"PathNode_01",next_nodes:'["PathNode_Intersection_North"]'}}),(0,o.jsx)("group",{name:"PathNode_03",position:[-3.5,0,3.5],userData:{name:"PathNode_03",next_nodes:'["PathNode_Intersection_West"]'}}),(0,o.jsx)("group",{name:"PathNode_04",position:[.5,0,5.5],userData:{name:"PathNode_04",next_nodes:'["PathNode_Intersection_South"]'}}),(0,o.jsx)("group",{name:"PathNode_05",position:[-5.5,0,-.5],userData:{name:"PathNode_05",next_nodes:'["PathNode_Intersection_West"]'}}),(0,o.jsx)("group",{name:"PathNode_09",position:[4.5,0,-4.5],userData:{name:"PathNode_09",next_nodes:'["PathNode_Intersection_East"]'}}),(0,o.jsx)("group",{name:"PathNode_08",position:[4.5,0,3.5],rotation:[0,-1.571,0],userData:{name:"PathNode_08",next_nodes:'["PathNode_Intersection_South"]'}}),(0,o.jsx)("group",{name:"PathNode_07",position:[6.5,0,-.5],rotation:[Math.PI,0,Math.PI],userData:{name:"PathNode_07",next_nodes:'["PathNode_Intersection_East"]'}}),(0,o.jsx)("group",{name:"PathNode_06",position:[.5,0,-6.5],rotation:[0,-1.571,0],userData:{name:"PathNode_06",next_nodes:'["PathNode_Intersection_North"]'}}),(0,o.jsx)("group",{name:"PathNode_Intersection_Main",position:[.5,0,-.5],userData:{name:"PathNode_Intersection_Main",next_nodes:'["PathNode_Intersection_South","PathNode_Intersection_East","PathNode_Intersection_West","PathNode_Intersection_North"]'}}),(0,o.jsx)("group",{name:"PathNode_Intersection_West",position:[-3.5,0,-.5],userData:{name:"PathNode_Intersection_West",next_nodes:'["PathNode_Intersection_Main","PathNode_01","PathNode_05"]'}}),(0,o.jsx)("group",{name:"PathNode_Intersection_South",position:[.5,0,3.5],userData:{name:"PathNode_Intersection_South",next_nodes:'["PathNode_Intersection_Main","PathNode_03","PathNode_04"]'}}),(0,o.jsx)("group",{name:"PathNode_Intersection_East",position:[4.5,0,-.5],userData:{name:"PathNode_Intersection_East",next_nodes:'["PathNode_Intersection_Main","PathNode_08","PathNode_07"]'}}),(0,o.jsx)("group",{name:"PathNode_Intersection_North",position:[.5,0,-4.5],userData:{name:"PathNode_Intersection_North",next_nodes:'["PathNode_Intersection_Main","PathNode_06","PathNode_09"]'}}),(0,o.jsx)("mesh",{name:"road-bend002",geometry:e["road-bend002"].geometry,material:a["colormap.001"],position:[-3.5,0,3.5],rotation:[Math.PI/2,0,Math.PI],userData:{name:"road-bend.002"}}),(0,o.jsx)("mesh",{name:"road-crossing",geometry:e["road-crossing"].geometry,material:a["colormap.003"],position:[-1.5,0,-.5],rotation:[Math.PI/2,0,0],userData:{name:"road-crossing"}}),(0,o.jsx)("mesh",{name:"road-straight",geometry:e["road-straight"].geometry,material:a["colormap.002"],position:[-.5,0,-.5],rotation:[Math.PI/2,0,0],userData:{name:"road-straight"}}),(0,o.jsx)("mesh",{name:"road-straight002",geometry:e["road-straight002"].geometry,material:a["colormap.002"],position:[-2.5,0,-.5],rotation:[Math.PI/2,0,0],userData:{name:"road-straight.002"}}),(0,o.jsx)("mesh",{name:"road-straight003",geometry:e["road-straight003"].geometry,material:a["colormap.002"],position:[.5,0,.5],rotation:[Math.PI/2,0,-Math.PI/2],userData:{name:"road-straight.003"}}),(0,o.jsx)("mesh",{name:"road-straight004",geometry:e["road-straight004"].geometry,material:a["colormap.002"],position:[.5,0,1.5],rotation:[Math.PI/2,0,-Math.PI/2],userData:{name:"road-straight.004"}}),(0,o.jsx)("mesh",{name:"road-straight005",geometry:e["road-straight005"].geometry,material:a["colormap.002"],position:[.5,0,2.5],rotation:[Math.PI/2,0,-Math.PI/2],userData:{name:"road-straight.005"}}),(0,o.jsx)("mesh",{name:"road-straight006",geometry:e["road-straight006"].geometry,material:a["colormap.002"],position:[-3.5,0,.5],rotation:[Math.PI/2,0,-Math.PI/2],userData:{name:"road-straight.006"}}),(0,o.jsx)("mesh",{name:"road-straight007",geometry:e["road-straight007"].geometry,material:a["colormap.002"],position:[-3.5,0,1.5],rotation:[Math.PI/2,0,-Math.PI/2],userData:{name:"road-straight.007"}}),(0,o.jsx)("mesh",{name:"road-straight008",geometry:e["road-straight008"].geometry,material:a["colormap.002"],position:[-3.5,0,2.5],rotation:[Math.PI/2,0,-Math.PI/2],userData:{name:"road-straight.008"}}),(0,o.jsx)("mesh",{name:"road-straight009",geometry:e["road-straight009"].geometry,material:a["colormap.002"],position:[-2.5,0,3.5],rotation:[Math.PI/2,0,Math.PI],userData:{name:"road-straight.009"}}),(0,o.jsx)("mesh",{name:"road-straight010",geometry:e["road-straight010"].geometry,material:a["colormap.002"],position:[-1.5,0,3.5],rotation:[Math.PI/2,0,Math.PI],userData:{name:"road-straight.010"}}),(0,o.jsx)("mesh",{name:"road-straight011",geometry:e["road-straight011"].geometry,material:a["colormap.002"],position:[-.5,0,3.5],rotation:[Math.PI/2,0,Math.PI],userData:{name:"road-straight.011"}}),(0,o.jsx)("mesh",{name:"road-bend005",geometry:e["road-bend005"].geometry,material:a["colormap.001"],position:[-3.5,0,-4.5],rotation:[Math.PI/2,0,-Math.PI/2],userData:{name:"road-bend.005"}}),(0,o.jsx)("mesh",{name:"road-crossing001",geometry:e["road-crossing001"].geometry,material:a["colormap.003"],position:[-1.5,0,-4.5],rotation:[Math.PI/2,0,0],userData:{name:"road-crossing.001"}}),(0,o.jsx)("mesh",{name:"road-straight001",geometry:e["road-straight001"].geometry,material:a["colormap.002"],position:[-.5,0,-4.5],rotation:[Math.PI/2,0,0],userData:{name:"road-straight.001"}}),(0,o.jsx)("mesh",{name:"road-straight012",geometry:e["road-straight012"].geometry,material:a["colormap.002"],position:[-2.5,0,-4.5],rotation:[Math.PI/2,0,0],userData:{name:"road-straight.012"}}),(0,o.jsx)("mesh",{name:"road-straight013",geometry:e["road-straight013"].geometry,material:a["colormap.002"],position:[.5,0,-3.5],rotation:[Math.PI/2,0,-Math.PI/2],userData:{name:"road-straight.013"}}),(0,o.jsx)("mesh",{name:"road-straight014",geometry:e["road-straight014"].geometry,material:a["colormap.002"],position:[.5,0,-2.5],rotation:[Math.PI/2,0,-Math.PI/2],userData:{name:"road-straight.014"}}),(0,o.jsx)("mesh",{name:"road-straight015",geometry:e["road-straight015"].geometry,material:a["colormap.002"],position:[.5,0,-1.5],rotation:[Math.PI/2,0,-Math.PI/2],userData:{name:"road-straight.015"}}),(0,o.jsx)("mesh",{name:"road-straight016",geometry:e["road-straight016"].geometry,material:a["colormap.002"],position:[-3.5,0,-3.5],rotation:[Math.PI/2,0,-Math.PI/2],userData:{name:"road-straight.016"}}),(0,o.jsx)("mesh",{name:"road-straight017",geometry:e["road-straight017"].geometry,material:a["colormap.002"],position:[-3.5,0,-2.5],rotation:[Math.PI/2,0,-Math.PI/2],userData:{name:"road-straight.017"}}),(0,o.jsx)("mesh",{name:"road-straight018",geometry:e["road-straight018"].geometry,material:a["colormap.002"],position:[-3.5,0,-1.5],rotation:[Math.PI/2,0,-Math.PI/2],userData:{name:"road-straight.018"}}),(0,o.jsx)("mesh",{name:"road-straight019",geometry:e["road-straight019"].geometry,material:a["colormap.002"],position:[-4.5,0,-.5],rotation:[Math.PI/2,0,0],userData:{name:"road-straight.019"}}),(0,o.jsx)("mesh",{name:"road-crossroad",geometry:e["road-crossroad"].geometry,material:a["colormap.017"],position:[-3.5,0,-.5],rotation:[Math.PI/2,0,0],userData:{name:"road-crossroad"}}),(0,o.jsx)("mesh",{name:"road-end",geometry:e["road-end"].geometry,material:a["colormap.016"],position:[-5.5,0,-.5],rotation:[Math.PI/2,0,0],userData:{name:"road-end"}}),(0,o.jsx)("mesh",{name:"road-crossroad001",geometry:e["road-crossroad001"].geometry,material:a["colormap.017"],position:[.5,0,3.5],rotation:[Math.PI/2,0,0],userData:{name:"road-crossroad.001"}}),(0,o.jsx)("mesh",{name:"road-straight020",geometry:e["road-straight020"].geometry,material:a["colormap.002"],position:[.5,0,4.5],rotation:[Math.PI/2,0,-Math.PI/2],userData:{name:"road-straight.020"}}),(0,o.jsx)("mesh",{name:"road-end001",geometry:e["road-end001"].geometry,material:a["colormap.016"],position:[.5,0,5.5],rotation:[Math.PI/2,0,-Math.PI/2],userData:{name:"road-end.001"}}),(0,o.jsx)("mesh",{name:"road-crossroad002",geometry:e["road-crossroad002"].geometry,material:a["colormap.017"],position:[.5,0,-.5],rotation:[Math.PI/2,0,0],userData:{name:"road-crossroad.002"}}),(0,o.jsx)("mesh",{name:"road-crossing002",geometry:e["road-crossing002"].geometry,material:a["colormap.003"],position:[2.5,0,-.5],rotation:[Math.PI/2,0,0],userData:{name:"road-crossing.002"}}),(0,o.jsx)("mesh",{name:"road-straight021",geometry:e["road-straight021"].geometry,material:a["colormap.002"],position:[3.5,0,-.5],rotation:[Math.PI/2,0,0],userData:{name:"road-straight.021"}}),(0,o.jsx)("mesh",{name:"road-straight022",geometry:e["road-straight022"].geometry,material:a["colormap.002"],position:[1.5,0,-.5],rotation:[Math.PI/2,0,0],userData:{name:"road-straight.022"}}),(0,o.jsx)("mesh",{name:"road-straight023",geometry:e["road-straight023"].geometry,material:a["colormap.002"],position:[4.5,0,.5],rotation:[Math.PI/2,0,-Math.PI/2],userData:{name:"road-straight.023"}}),(0,o.jsx)("mesh",{name:"road-straight024",geometry:e["road-straight024"].geometry,material:a["colormap.002"],position:[4.5,0,1.5],rotation:[Math.PI/2,0,-Math.PI/2],userData:{name:"road-straight.024"}}),(0,o.jsx)("mesh",{name:"road-straight025",geometry:e["road-straight025"].geometry,material:a["colormap.002"],position:[4.5,0,2.5],rotation:[Math.PI/2,0,-Math.PI/2],userData:{name:"road-straight.025"}}),(0,o.jsx)("mesh",{name:"road-straight026",geometry:e["road-straight026"].geometry,material:a["colormap.002"],position:[4.5,0,-3.5],rotation:[Math.PI/2,0,-Math.PI/2],userData:{name:"road-straight.026"}}),(0,o.jsx)("mesh",{name:"road-straight027",geometry:e["road-straight027"].geometry,material:a["colormap.002"],position:[4.5,0,-2.5],rotation:[Math.PI/2,0,-Math.PI/2],userData:{name:"road-straight.027"}}),(0,o.jsx)("mesh",{name:"road-straight028",geometry:e["road-straight028"].geometry,material:a["colormap.002"],position:[4.5,0,-1.5],rotation:[Math.PI/2,0,-Math.PI/2],userData:{name:"road-straight.028"}}),(0,o.jsx)("mesh",{name:"road-crossroad003",geometry:e["road-crossroad003"].geometry,material:a["colormap.017"],position:[4.5,0,-.5],rotation:[Math.PI/2,0,0],userData:{name:"road-crossroad.003"}}),(0,o.jsx)("mesh",{name:"road-bend001",geometry:e["road-bend001"].geometry,material:a["colormap.001"],position:[4.5,0,-4.5],rotation:[Math.PI/2,0,0],userData:{name:"road-bend.001"}}),(0,o.jsx)("mesh",{name:"road-crossing003",geometry:e["road-crossing003"].geometry,material:a["colormap.003"],position:[2.5,0,-4.5],rotation:[Math.PI/2,0,0],userData:{name:"road-crossing.003"}}),(0,o.jsx)("mesh",{name:"road-straight029",geometry:e["road-straight029"].geometry,material:a["colormap.002"],position:[3.5,0,-4.5],rotation:[Math.PI/2,0,0],userData:{name:"road-straight.029"}}),(0,o.jsx)("mesh",{name:"road-straight030",geometry:e["road-straight030"].geometry,material:a["colormap.002"],position:[1.5,0,-4.5],rotation:[Math.PI/2,0,0],userData:{name:"road-straight.030"}}),(0,o.jsx)("mesh",{name:"road-crossing004",geometry:e["road-crossing004"].geometry,material:a["colormap.003"],position:[2.5,0,3.5],rotation:[Math.PI/2,0,0],userData:{name:"road-crossing.004"}}),(0,o.jsx)("mesh",{name:"road-straight031",geometry:e["road-straight031"].geometry,material:a["colormap.002"],position:[3.5,0,3.5],rotation:[Math.PI/2,0,0],userData:{name:"road-straight.031"}}),(0,o.jsx)("mesh",{name:"road-straight032",geometry:e["road-straight032"].geometry,material:a["colormap.002"],position:[1.5,0,3.5],rotation:[Math.PI/2,0,0],userData:{name:"road-straight.032"}}),(0,o.jsx)("mesh",{name:"road-bend003",geometry:e["road-bend003"].geometry,material:a["colormap.001"],position:[4.5,0,3.5],rotation:[Math.PI/2,0,Math.PI/2],userData:{name:"road-bend.003"}}),(0,o.jsx)("mesh",{name:"road-end002",geometry:e["road-end002"].geometry,material:a["colormap.016"],position:[6.5,0,-.5],rotation:[Math.PI/2,0,Math.PI],userData:{name:"road-end.002"}}),(0,o.jsx)("mesh",{name:"road-straight033",geometry:e["road-straight033"].geometry,material:a["colormap.002"],position:[5.5,0,-.5],rotation:[Math.PI/2,0,0],userData:{name:"road-straight.033"}}),(0,o.jsx)("mesh",{name:"road-straight034",geometry:e["road-straight034"].geometry,material:a["colormap.002"],position:[.5,0,-5.5],rotation:[Math.PI/2,0,-Math.PI/2],userData:{name:"road-straight.034"}}),(0,o.jsx)("mesh",{name:"road-end003",geometry:e["road-end003"].geometry,material:a["colormap.016"],position:[.5,0,-6.5],rotation:[Math.PI/2,0,Math.PI/2],userData:{name:"road-end.003"}}),(0,o.jsx)("mesh",{name:"road-crossroad004",geometry:e["road-crossroad004"].geometry,material:a["colormap.017"],position:[.5,0,-4.5],rotation:[Math.PI/2,0,0],userData:{name:"road-crossroad.004"}}),(0,o.jsx)("mesh",{name:"building-a001",geometry:e["building-a001"].geometry,material:a["colormap.005"],position:[2.025,0,1.95],rotation:[Math.PI/2,0,-Math.PI/2],userData:{name:"building-a.001"}}),(0,o.jsx)("mesh",{name:"building-d001",geometry:e["building-d001"].geometry,material:a["colormap.006"],position:[2.025,0,.45],rotation:[Math.PI/2,0,-Math.PI/2],userData:{name:"building-d.001"}}),(0,o.jsx)("mesh",{name:"building-n001",geometry:e["building-n001"].geometry,material:a["colormap.007"],position:[3.775,0,.2],rotation:[Math.PI/2,0,0],userData:{name:"building-n.001"}}),(0,o.jsx)("mesh",{name:"building-o001",geometry:e["building-o001"].geometry,material:a["colormap.008"],position:[2.925,0,2.85],rotation:[Math.PI/2,0,-Math.PI],userData:{name:"building-o.001"}}),(0,o.jsx)("mesh",{name:"tile-low018",geometry:e["tile-low018"].geometry,material:a["colormap.004"],position:[3.5,0,.5],rotation:[Math.PI/2,0,0],userData:{name:"tile-low.018"}}),(0,o.jsx)("mesh",{name:"tile-low019",geometry:e["tile-low019"].geometry,material:a["colormap.004"],position:[2.5,0,.5],rotation:[Math.PI/2,0,0],userData:{name:"tile-low.019"}}),(0,o.jsx)("mesh",{name:"tile-low020",geometry:e["tile-low020"].geometry,material:a["colormap.004"],position:[1.5,0,.5],rotation:[Math.PI/2,0,0],userData:{name:"tile-low.020"}}),(0,o.jsx)("mesh",{name:"tile-low021",geometry:e["tile-low021"].geometry,material:a["colormap.004"],position:[3.5,0,1.5],rotation:[Math.PI/2,0,0],userData:{name:"tile-low.021"}}),(0,o.jsx)("mesh",{name:"tile-low022",geometry:e["tile-low022"].geometry,material:a["colormap.004"],position:[2.5,0,1.5],rotation:[Math.PI/2,0,0],userData:{name:"tile-low.022"}}),(0,o.jsx)("mesh",{name:"tile-low023",geometry:e["tile-low023"].geometry,material:a["colormap.004"],position:[1.5,0,1.5],rotation:[Math.PI/2,0,0],userData:{name:"tile-low.023"}}),(0,o.jsx)("mesh",{name:"tile-low024",geometry:e["tile-low024"].geometry,material:a["colormap.004"],position:[3.5,0,2.5],rotation:[Math.PI/2,0,0],userData:{name:"tile-low.024"}}),(0,o.jsx)("mesh",{name:"tile-low025",geometry:e["tile-low025"].geometry,material:a["colormap.004"],position:[2.5,0,2.5],rotation:[Math.PI/2,0,0],userData:{name:"tile-low.025"}}),(0,o.jsx)("mesh",{name:"tile-low026",geometry:e["tile-low026"].geometry,material:a["colormap.004"],position:[1.5,0,2.5],rotation:[Math.PI/2,0,0],userData:{name:"tile-low.026"}}),(0,o.jsx)("mesh",{name:"building-a",geometry:e["building-a"].geometry,material:a["colormap.005"],position:[-2,0,1],rotation:[Math.PI/2,0,0],userData:{name:"building-a"}}),(0,o.jsx)("mesh",{name:"building-d",geometry:e["building-d"].geometry,material:a["colormap.006"],position:[-.5,0,1],rotation:[Math.PI/2,0,0],userData:{name:"building-d"}}),(0,o.jsx)("mesh",{name:"building-n",geometry:e["building-n"].geometry,material:a["colormap.007"],position:[-.25,0,2.75],rotation:[Math.PI/2,0,Math.PI/2],userData:{name:"building-n"}}),(0,o.jsx)("mesh",{name:"building-o",geometry:e["building-o"].geometry,material:a["colormap.008"],position:[-2.9,0,1.9],rotation:[Math.PI/2,0,-Math.PI/2],userData:{name:"building-o"}}),(0,o.jsx)("mesh",{name:"tile-low",geometry:e["tile-low"].geometry,material:a["colormap.004"],position:[-.5,0,.5],rotation:[Math.PI/2,0,0],userData:{name:"tile-low"}}),(0,o.jsx)("mesh",{name:"tile-low001",geometry:e["tile-low001"].geometry,material:a["colormap.004"],position:[-1.5,0,.5],rotation:[Math.PI/2,0,0],userData:{name:"tile-low.001"}}),(0,o.jsx)("mesh",{name:"tile-low002",geometry:e["tile-low002"].geometry,material:a["colormap.004"],position:[-2.5,0,.5],rotation:[Math.PI/2,0,0],userData:{name:"tile-low.002"}}),(0,o.jsx)("mesh",{name:"tile-low003",geometry:e["tile-low003"].geometry,material:a["colormap.004"],position:[-.5,0,1.5],rotation:[Math.PI/2,0,0],userData:{name:"tile-low.003"}}),(0,o.jsx)("mesh",{name:"tile-low004",geometry:e["tile-low004"].geometry,material:a["colormap.004"],position:[-1.5,0,1.5],rotation:[Math.PI/2,0,0],userData:{name:"tile-low.004"}}),(0,o.jsx)("mesh",{name:"tile-low005",geometry:e["tile-low005"].geometry,material:a["colormap.004"],position:[-2.5,0,1.5],rotation:[Math.PI/2,0,0],userData:{name:"tile-low.005"}}),(0,o.jsx)("mesh",{name:"tile-low006",geometry:e["tile-low006"].geometry,material:a["colormap.004"],position:[-.5,0,2.5],rotation:[Math.PI/2,0,0],userData:{name:"tile-low.006"}}),(0,o.jsx)("mesh",{name:"tile-low007",geometry:e["tile-low007"].geometry,material:a["colormap.004"],position:[-1.5,0,2.5],rotation:[Math.PI/2,0,0],userData:{name:"tile-low.007"}}),(0,o.jsx)("mesh",{name:"tile-low008",geometry:e["tile-low008"].geometry,material:a["colormap.004"],position:[-2.5,0,2.5],rotation:[Math.PI/2,0,0],userData:{name:"tile-low.008"}}),(0,o.jsx)("mesh",{name:"tile-low034",geometry:e["tile-low034"].geometry,material:a["colormap.027"],position:[2.5,0,-3.5],rotation:[Math.PI/2,0,0],userData:{name:"tile-low.034"}}),(0,o.jsx)("mesh",{name:"tile-low033",geometry:e["tile-low033"].geometry,material:a["colormap.027"],position:[1.5,0,-3.5],rotation:[Math.PI/2,0,0],userData:{name:"tile-low.033"}}),(0,o.jsx)("mesh",{name:"tile-low032",geometry:e["tile-low032"].geometry,material:a["colormap.027"],position:[3.5,0,-2.5],rotation:[Math.PI/2,0,0],userData:{name:"tile-low.032"}}),(0,o.jsx)("mesh",{name:"tile-low031",geometry:e["tile-low031"].geometry,material:a["colormap.027"],position:[2.5,0,-2.5],rotation:[Math.PI/2,0,0],userData:{name:"tile-low.031"}}),(0,o.jsx)("mesh",{name:"tile-low030",geometry:e["tile-low030"].geometry,material:a["colormap.027"],position:[1.5,0,-2.5],rotation:[Math.PI/2,0,0],userData:{name:"tile-low.030"}}),(0,o.jsx)("mesh",{name:"tile-low029",geometry:e["tile-low029"].geometry,material:a["colormap.027"],position:[3.5,0,-1.5],rotation:[Math.PI/2,0,0],userData:{name:"tile-low.029"}}),(0,o.jsx)("mesh",{name:"tile-low028",geometry:e["tile-low028"].geometry,material:a["colormap.027"],position:[2.5,0,-1.5],rotation:[Math.PI/2,0,0],userData:{name:"tile-low.028"}}),(0,o.jsx)("mesh",{name:"tile-low027",geometry:e["tile-low027"].geometry,material:a["colormap.027"],position:[1.5,0,-1.5],rotation:[Math.PI/2,0,0],userData:{name:"tile-low.027"}}),(0,o.jsx)("mesh",{name:"building-type-a001",geometry:e["building-type-a001"].geometry,material:a["colormap.026"],position:[1.63,0,-1.657],rotation:[Math.PI/2,0,-Math.PI/2],userData:{name:"building-type-a.001"}}),(0,o.jsx)("mesh",{name:"building-type-c001",geometry:e["building-type-c001"].geometry,material:a["colormap.023"],position:[3.04,0,-3.187],rotation:[Math.PI/2,0,0],userData:{name:"building-type-c.001"}}),(0,o.jsx)("mesh",{name:"tile-low035",geometry:e["tile-low035"].geometry,material:a["colormap.027"],position:[3.5,0,-3.5],rotation:[Math.PI/2,0,0],userData:{name:"tile-low.035"}}),(0,o.jsx)("mesh",{name:"tree-large",geometry:e["tree-large"].geometry,material:a["colormap.029"],position:[2.8,0,-1.3],rotation:[Math.PI/2,0,0],userData:{name:"tree-large"}}),(0,o.jsx)("mesh",{name:"tree-large001",geometry:e["tree-large001"].geometry,material:a["colormap.029"],position:[3,0,-1.6],rotation:[Math.PI/2,0,0],userData:{name:"tree-large.001"}}),(0,o.jsx)("mesh",{name:"tree-small",geometry:e["tree-small"].geometry,material:a["colormap.030"],position:[3.2,0,-1.2],rotation:[Math.PI/2,0,0],userData:{name:"tree-small"}}),(0,o.jsx)("mesh",{name:"tree-small001",geometry:e["tree-small001"].geometry,material:a["colormap.030"],position:[2.8,0,-1.7],rotation:[Math.PI/2,0,0],userData:{name:"tree-small.001"}}),(0,o.jsx)("mesh",{name:"tile-low010",geometry:e["tile-low010"].geometry,material:a["colormap.004"],position:[-1.5,0,-3.5],rotation:[Math.PI/2,0,0],userData:{name:"tile-low.010"}}),(0,o.jsx)("mesh",{name:"tile-low011",geometry:e["tile-low011"].geometry,material:a["colormap.004"],position:[-2.5,0,-3.5],rotation:[Math.PI/2,0,0],userData:{name:"tile-low.011"}}),(0,o.jsx)("mesh",{name:"tile-low012",geometry:e["tile-low012"].geometry,material:a["colormap.004"],position:[-.5,0,-2.5],rotation:[Math.PI/2,0,0],userData:{name:"tile-low.012"}}),(0,o.jsx)("mesh",{name:"tile-low013",geometry:e["tile-low013"].geometry,material:a["colormap.004"],position:[-1.5,0,-2.5],rotation:[Math.PI/2,0,0],userData:{name:"tile-low.013"}}),(0,o.jsx)("mesh",{name:"tile-low014",geometry:e["tile-low014"].geometry,material:a["colormap.004"],position:[-2.5,0,-2.5],rotation:[Math.PI/2,0,0],userData:{name:"tile-low.014"}}),(0,o.jsx)("mesh",{name:"tile-low015",geometry:e["tile-low015"].geometry,material:a["colormap.004"],position:[-.5,0,-1.5],rotation:[Math.PI/2,0,0],userData:{name:"tile-low.015"}}),(0,o.jsx)("mesh",{name:"tile-low016",geometry:e["tile-low016"].geometry,material:a["colormap.004"],position:[-1.5,0,-1.5],rotation:[Math.PI/2,0,0],userData:{name:"tile-low.016"}}),(0,o.jsx)("mesh",{name:"tile-low017",geometry:e["tile-low017"].geometry,material:a["colormap.004"],position:[-2.5,0,-1.5],rotation:[Math.PI/2,0,0],userData:{name:"tile-low.017"}}),(0,o.jsx)("mesh",{name:"building-type-a",geometry:e["building-type-a"].geometry,material:a["colormap.009"],position:[-.69,0,-3.23],rotation:[Math.PI/2,0,Math.PI/2],userData:{name:"building-type-a"}}),(0,o.jsx)("mesh",{name:"building-type-b",geometry:e["building-type-b"].geometry,material:a["colormap.010"],position:[-2.3,0,-3],rotation:[Math.PI/2,0,-1.547],userData:{name:"building-type-b"}}),(0,o.jsx)("mesh",{name:"building-type-c",geometry:e["building-type-c"].geometry,material:a["colormap.014"],position:[-2.3,0,-1.5],rotation:[Math.PI/2,0,Math.PI],userData:{name:"building-type-c"}}),(0,o.jsx)("mesh",{name:"building-type-l",geometry:e["building-type-l"].geometry,material:a["colormap.011"],position:[-.7,0,-1.7],rotation:[Math.PI/2,0,Math.PI/2],userData:{name:"building-type-l"}}),(0,o.jsx)("mesh",{name:"tile-low009",geometry:e["tile-low009"].geometry,material:a["colormap.004"],position:[-.5,0,-3.5],rotation:[Math.PI/2,0,0],userData:{name:"tile-low.009"}})]})})}n.p.preload("/models/city_01.glb");var l=a(5339);function h(t,e){return t.types.includes(e)}function d(t){let e=0;for(let a=0;a<t.length-1;a++)e+=t[a].distanceTo(t[a+1]);return e}let g=[new l.Pq0(-15,.2,-15),new l.Pq0(-15,.2,-5),new l.Pq0(-15,.2,5),new l.Pq0(-15,.2,15)],p=[new l.Pq0(-15,.2,15),new l.Pq0(-5,.2,15),new l.Pq0(5,.2,15),new l.Pq0(15,.2,15)],c=[new l.Pq0(15,.2,15),new l.Pq0(15,.2,5),new l.Pq0(15,.2,-5),new l.Pq0(15,.2,-15)],u=[new l.Pq0(15,.2,-15),new l.Pq0(5,.2,-15),new l.Pq0(-5,.2,-15),new l.Pq0(-15,.2,-15)],y={id:"path-1",points:g,length:d(g)},P={id:"path-2",points:p,length:d(p)},x={id:"path-3",points:c,length:d(c)},I={paths:[y,P,x,{id:"path-4",points:u,length:d(u)}],nodes:[{id:"node-1",position:new l.Pq0(-15,.2,-15),next:["node-2"],types:["intersection"]},{id:"node-2",position:new l.Pq0(-15,.2,15),next:["node-3"],types:["intersection","pickup"],metadata:{zoneName:"North Terminal",payoutMultiplier:1.2}},{id:"node-3",position:new l.Pq0(15,.2,15),next:["node-4"],types:["intersection","red_light"],metadata:{redLightDuration:3,greenLightDuration:5,currentState:"green"}},{id:"node-4",position:new l.Pq0(15,.2,-15),next:["node-1"],types:["intersection","dropoff"],metadata:{zoneName:"Downtown",payoutMultiplier:1}}]};function w(){let t=(0,n.p)("/models/city_01.glb");return(0,s.useEffect)(()=>{console.log("\uD83C\uDFD9️ City model loaded"),console.log("GLTF scene:",t.scene);let e=[];t.scene.traverse(t=>{e.push({name:t.name,type:t.type,position:t.position}),t.name.startsWith("PathNode_")&&(t.visible=!1,console.log("\uD83D\uDC7B Hiding path node marker: ".concat(t.name)))}),console.log("All objects in scene:",e);let a=function(t){let e=[];if(t.scene.traverse(t=>{if(t.name.startsWith("PathNode_")){let a=function(t){let e=[],a=t.toLowerCase();return a.includes("intersection")&&e.push("intersection"),a.includes("pickup")&&e.push("pickup"),a.includes("dropoff")&&e.push("dropoff"),(a.includes("redlight")||a.includes("red_light"))&&e.push("red_light"),a.includes("service")&&e.push("service"),0===e.length&&e.push("path"),e}(t.name),o=new l.Pq0;t.getWorldPosition(o);let r=[];if(t.userData&&t.userData.next_nodes)try{let e=t.userData.next_nodes;"string"==typeof e?(r=JSON.parse(e),console.log("  \uD83D\uDCCD ".concat(t.name," → next_nodes parsed:"),r)):Array.isArray(e)&&(r=e,console.log("  \uD83D\uDCCD ".concat(t.name," → next_nodes array:"),r))}catch(e){console.error("❌ Failed to parse next_nodes for ".concat(t.name,":"),e),console.error("   Raw value:",t.userData.next_nodes)}else console.log("  ⚠️ ".concat(t.name," has NO next_nodes property"));e.push({id:t.name,position:o,next:r,types:a,metadata:t.userData})}}),e.sort((t,e)=>t.id.localeCompare(e.id)),e.filter(t=>0===t.next.length).length===e.length){console.log("\uD83D\uDCCD No next_nodes defined in Blender, auto-connecting sequential nodes...");let t=e.filter(t=>t.types.includes("path")||t.types.includes("intersection"));for(let a=0;a<t.length-1;a++){let o=e.find(e=>e.id===t[a].id);o&&o.next.push(t[a+1].id)}if(t.length>0){let a=e.find(e=>e.id===t[t.length-1].id);a&&a.next.push(t[0].id)}}return e}(t);if(a.length>0){console.log("✅ Extracted ".concat(a.length," path nodes:"),a),a.forEach(t=>{console.log("  - ".concat(t.id,":"),{position:t.position,types:t.types,next:t.next,metadata:t.metadata})});let t=function(t){console.log("\uD83D\uDEE3️ Updating road network with ".concat(t.length," extracted nodes"));let e=[],a=new Set;return t.forEach(o=>{o.next.forEach(r=>{let i="".concat(o.id,"_to_").concat(r);if(a.has(i))return;let n=t.find(t=>t.id===r);if(!n)return void console.warn("⚠️ Node ".concat(r," referenced by ").concat(o.id," not found"));let s=[o.position.clone(),n.position.clone()];e.push({id:i,points:s,length:d(s)}),a.add(i),console.log("  ✅ Created path: ".concat(i))})}),I={nodes:t,paths:e},console.log("✅ Road network updated: ".concat(t.length," nodes, ").concat(e.length," paths")),console.log("\uD83D\uDCCA Network Graph:"),t.forEach(t=>{console.log("  ".concat(t.id," → [").concat(t.next.join(", "),"]"))}),console.log("\uD83D\uDEE3️ Generated Paths:"),e.forEach(t=>{console.log("  ".concat(t.id," (").concat(t.length.toFixed(2)," units)"))}),I}(a);window.dispatchEvent(new CustomEvent("roadNetworkUpdated",{detail:{network:t}}))}else console.warn("⚠️ No path nodes found!"),console.log("\uD83D\uDCA1 Troubleshooting:"),console.log("   1. In Blender, use small mesh objects (spheres) instead of Empty objects"),console.log('   2. Name them starting with "PathNode_" (e.g., PathNode_001)'),console.log("   3. Export with GLTF settings: Include > Custom Properties enabled"),console.log("   4. See docs/blender.md for detailed instructions")},[t]),(0,o.jsx)(m,{})}n.p.preload("/models/city_01.glb");var M=a(3646);function D(t){let{taxi:e}=t,a=(0,s.useRef)(null),r=(0,s.useRef)(new l.Pq0),{nodes:i,materials:m}=(0,n.p)("/models/taxi.glb");return(0,M.D)((t,o)=>{if(!a.current||!e.path)return;"stopped"!==e.state&&e.path&&(e.t+=o*e.speed/e.path.length,e.t>=1&&(e.t=1,function(t){if(!t.path)return;let e=t.path.id,a=function(t){let e=I.paths,a=t.split("_to_");if(2!==a.length)return console.warn("⚠️ Invalid path ID format: ".concat(t)),null;let o=a[1],r=e.filter(t=>t.id.startsWith("".concat(o,"_to_")));if(0===r.length)return console.warn("⚠️ No next path found from node: ".concat(o)),null;if(1===r.length)return r[0];{let t=Math.floor(Math.random()*r.length);return r[t]}}(e);a?(console.log("\uD83D\uDE95 Path transition: ".concat(e," → ").concat(a.id)),t.path=a,t.t=0):console.warn("⚠️ No next path found for ".concat(e))}(e)));let i=function(t,e){if(0===t.points.length)return new l.Pq0;if(1===t.points.length)return t.points[0].clone();let a=Math.max(0,Math.min(1,e)),o=Math.floor(a*(t.points.length-1)),r=Math.min(o+1,t.points.length-1),i=a*(t.points.length-1)%1;return t.points[o].clone().lerp(t.points[r],i)}(e.path,e.t);if(a.current.position.copy(i),!r.current.equals(i)){let t=new l.Pq0().subVectors(i,r.current).normalize();if(t.length()>.01){let e=Math.atan2(t.x,t.z);a.current.rotation.y=e}}r.current.copy(i)}),(0,o.jsx)("group",{ref:a,children:(0,o.jsx)("mesh",{geometry:i.taxi.geometry,material:m.colormap,rotation:[Math.PI/2,0,0],scale:.198,castShadow:!0,children:(0,o.jsx)("meshStandardMaterial",{...m.colormap,emissive:(()=>{switch(e.state){case"stopped":return"#ff0000";case"needs_service":return"#ff8800";case"broken":return"#440000";default:return"#000000"}})(),emissiveIntensity:.5})})})}n.p.preload("/models/taxi.glb");var j=a(1288);function _(){let t=I;return(0,o.jsxs)("group",{children:[t.paths.map(t=>{let e=t.points.map(t=>[t.x,t.y,t.z]);return(0,o.jsx)(j.N,{points:e,color:"#00ff88",lineWidth:2,dashed:!1},t.id)}),t.nodes.map(t=>{let e="#888888";return h(t,"pickup")&&(e="#00ff00"),h(t,"dropoff")&&(e="#ff0000"),h(t,"red_light")&&(e="#ff8800"),h(t,"service")&&(e="#0088ff"),h(t,"intersection")&&(e="#ffff00"),(0,o.jsxs)("mesh",{position:t.position,children:[(0,o.jsx)("sphereGeometry",{args:[.2,8,8]}),(0,o.jsx)("meshStandardMaterial",{color:e,emissive:e,emissiveIntensity:.5})]},t.id)})]})}function f(){let{taxisRef:t}=function(){let t=(0,s.useRef)([{id:"taxi-1",state:"driving_to_pickup",path:I.paths[0]||null,t:0,speed:1.5,isFocused:!1}]);return(0,s.useEffect)(()=>{let e=e=>{let{network:a}=e.detail;if(console.log("\uD83D\uDE95 Taxi received road network update:",a),a.paths.length>0&&t.current[0]){let e=a.paths.filter(t=>t.id.includes("Intersection")),o=e.length>0?e[0]:a.paths[0];t.current[0].path=o,t.current[0].t=0,console.log("✅ Taxi updated to starting path: ".concat(o.id)),console.log("   Available paths: ".concat(a.paths.length)),console.log("   Intersection paths: ".concat(e.length))}};return window.addEventListener("roadNetworkUpdated",e),()=>{window.removeEventListener("roadNetworkUpdated",e)}},[]),{taxisRef:t}}();return(0,o.jsxs)(r.Hl,{camera:{position:[8,10,8],fov:50},shadows:!1,frameloop:"always",children:[(0,o.jsx)("ambientLight",{intensity:.6}),(0,o.jsx)("directionalLight",{position:[5,10,5],intensity:.8,castShadow:!1}),(0,o.jsx)(i.N,{enablePan:!0,enableZoom:!0,enableRotate:!0,maxPolarAngle:Math.PI/2.2,minDistance:3,maxDistance:30,target:[.5,0,-.5]}),(0,o.jsx)(w,{}),(0,o.jsx)(_,{}),t.current.map(t=>(0,o.jsx)(D,{taxi:t},t.id)),(0,o.jsx)("gridHelper",{args:[20,20,"#444","#222"]})]})}}}]);
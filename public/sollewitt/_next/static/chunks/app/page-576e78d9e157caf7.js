(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{218:(e,t,i)=>{Promise.resolve().then(i.bind(i,5262))},5262:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>p});var n=i(5155),r=i(2115);let l=[{id:"wall-drawing-11",title:"Wall Drawing #11",description:"A wall divided horizontally and vertically into four equal parts. Within each part, three of the four kinds of lines are superimposed.",year:1969,medium:"Black pencil",steps:[{type:"divide",params:{rows:2,cols:2,drawGrid:!0}},{type:"lines",params:{lineKinds:["horizontal","vertical","diagonal-left","diagonal-right"],pickPerCell:3,density:{min:30,max:60},strokeWidth:{min:.5,max:1.5}}}]},{id:"wall-drawing-16",title:"Wall Drawing #16",description:"Bands of lines 12 inches (30 cm) wide, in three directions (vertical, horizontal, diagonal right) intersecting.",year:1969,medium:"Black pencil",steps:[{type:"bands",params:{bandWidth:.15,directions:["vertical","horizontal","diagonal-right"],lineDensity:{min:12,max:24},bandCount:{min:2,max:4}}}]},{id:"wall-drawing-17",title:"Wall Drawing #17",description:"Four-part drawing with a different line direction in each part.",year:1969,medium:"Black pencil",steps:[{type:"divide",params:{rows:2,cols:2}},{type:"lines",params:{lineKinds:["horizontal","vertical","diagonal-left","diagonal-right"],pickPerCell:1,unique:!0,density:{min:15,max:30},strokeWidth:{min:.5,max:1.5}}}]},{id:"wall-drawing-19",title:"Wall Drawing #19",description:"A wall divided vertically into six equal parts, with two of the four kinds of line directions superimposed in each part.",year:1969,medium:"Black pencil",steps:[{type:"divide",params:{rows:1,cols:6}},{type:"lines",params:{lineKinds:["horizontal","vertical","diagonal-left","diagonal-right"],pickPerCell:2,density:{min:12,max:25},strokeWidth:{min:.5,max:1.5}}}]},{id:"wall-drawing-38",title:"Wall Drawing #38",description:"Tissue paper cut into 1\xbd-inch (4 cm) squares and inserted into holes in the gray pegboard walls. All holes in the walls are filled randomly.",year:1970,medium:"Colored tissue papers, gray pegboard walls",steps:[{type:"pegboard",params:{cellSize:.025,gapRatio:.2,colors:["#c23b22","#e8a735","#3a7d44","#2e5fa1","#7b3f8d","#e86833","#d4a5a5","#f0e68c","#5b9bd5","#ff6b6b","#88d8b0","#ffd93d"],background:"#b0b0b0"}}]},{id:"wall-drawing-46",title:"Wall Drawing #46",description:"Vertical lines, not straight, not touching, covering the wall evenly.",year:1970,medium:"Black pencil",steps:[{type:"wobbly-lines",params:{direction:"vertical",count:{min:40,max:80},wobble:{min:3,max:12},segments:{min:20,max:40},strokeWidth:{min:.5,max:1.5}}}]}];function a(e,t){let i=[...e];for(let e=i.length-1;e>0;e--){let n=Math.floor(t()*(e+1));[i[e],i[n]]=[i[n],i[e]]}return i}function o(e,t){return t.min+e()*(t.max-t.min)}function s(e,t,i){let n=e.length;e.push({id:n,path:t,style:i,drawOrder:n})}function c(e,t){let{path:i,style:n}=t;if(i.length<2)return;e.save(),e.globalAlpha=n.opacity,e.lineWidth=n.width,e.strokeStyle=n.color,e.lineCap="round",e.lineJoin="round";let r=i.length>3&&i[0][0]===i[i.length-1][0]&&i[0][1]===i[i.length-1][1];e.beginPath(),e.moveTo(i[0][0],i[0][1]);for(let t=1;t<i.length;t++)e.lineTo(i[t][0],i[t][1]);r?(e.fillStyle=n.color,e.fill()):e.stroke(),e.restore()}function d(e){let{instruction:t,seed:i,progressRef:l}=e,d=(0,r.useRef)(null),u=(0,r.useRef)(null),h=(0,r.useRef)([]),m=(0,r.useRef)(0),f=(0,r.useRef)(null),p=(0,r.useRef)({w:0,h:0}),g=(0,r.useRef)(0);return(0,r.useEffect)(()=>{let e=()=>{let t=d.current,i=f.current,n=h.current;if(!t||!i||0===n.length){g.current=requestAnimationFrame(e);return}let r=n.length,a=Math.floor(l.current*r),o=m.current;if(a<o){let{w:e,h:t}=p.current,r=window.devicePixelRatio||1,l=i.getContext("2d");l.setTransform(r,0,0,r,0,0),l.clearRect(0,0,e,t);for(let e=0;e<a;e++)c(l,n[e]);m.current=a}else if(a>o){let e=window.devicePixelRatio||1,t=i.getContext("2d");t.setTransform(e,0,0,e,0,0);for(let e=o;e<a;e++)c(t,n[e]);m.current=a}let s=t.getContext("2d"),{w:u,h:w}=p.current,y=window.devicePixelRatio||1;s.setTransform(1,0,0,1,0,0),s.clearRect(0,0,u*y,w*y),s.drawImage(i,0,0),g.current=requestAnimationFrame(e)};return g.current=requestAnimationFrame(e),()=>cancelAnimationFrame(g.current)},[l]),(0,r.useEffect)(()=>{let e=u.current;if(!e)return;let n=new ResizeObserver(e=>{let[n]=e,r=n.contentRect.width,l=n.contentRect.height;r>0&&l>0&&((e,n)=>{if(0===e||0===n)return;let r=window.devicePixelRatio||1;p.current={w:e,h:n};let l=d.current;if(!l)return;l.width=e*r,l.height=n*r,l.style.width="".concat(e,"px"),l.style.height="".concat(n,"px");let c=f.current;c||(f.current=c=document.createElement("canvas")),c.width=e*r,c.height=n*r;let u=c.getContext("2d");u.setTransform(r,0,0,r,0,0),u.clearRect(0,0,e,n);let g=function(e,t,i,n){let r,l=(r=0|t,()=>{let e=Math.imul((r=r+0x6d2b79f5|0)^r>>>15,1|r);return(((e=e+Math.imul(e^e>>>7,61|e)^e)^e>>>14)>>>0)/0x100000000}),c=[],d=new Set(e.steps.map(e=>e.type));return d.has("divide")&&d.has("lines")&&function(e,t,i,n,r){let l=e.steps.find(e=>"divide"===e.type),c=e.steps.find(e=>"lines"===e.type);if(!l||!c)return;let d=l.params.rows||2,u=l.params.cols||2,h=i/u,m=n/d;if(l.params.drawGrid){let e={color:"#222",width:1.5,opacity:.8};for(let t=1;t<u;t++)s(r,[[t*h,0],[t*h,n]],e);for(let t=1;t<d;t++)s(r,[[0,t*m],[i,t*m]],e)}let f=c.params.lineKinds||[],p=c.params.pickPerCell||3,g=c.params.density,w=c.params.unique?a(f,t):null,y=0;for(let e=0;e<d;e++)for(let i=0;i<u;i++){let n;w?(n=[w[y%w.length]],y++):n=a(f,t).slice(0,p);let l=i*h,c=e*m;for(let e of n)for(let i of function(e,t,i,n,r,l){let a=[];for(let o=0;o<l;o++){let s=(o+.5)/l;switch(e){case"horizontal":a.push([[t,i+s*r],[t+n,i+s*r]]);break;case"vertical":a.push([[t+s*n,i],[t+s*n,i+r]]);break;case"diagonal-right":{let e=-n+(o+.5)/l*(n+r),s=Math.max(0,-e),c=Math.max(0,e),d=Math.min(n,r-e),u=Math.min(r,n+e);s<d&&a.push([[t+s,i+c],[t+d,i+u]]);break}case"diagonal-left":{let e=(o+.5)/l*(n+r),s=Math.max(0,e-r),c=Math.min(e,r),d=Math.min(n,e),u=Math.max(0,e-n);s<d&&a.push([[t+s,i+c],[t+d,i+u]])}}}return a}(e,l,c,h,m,Math.floor(o(t,g))))s(r,i,{color:"#222",width:.5+ +t(),opacity:.4+.4*t()})}}(e,l,i,n,c),d.has("bands")&&function(e,t,i,n,r){let l=e.steps.find(e=>"bands"===e.type);if(!l)return;let a=l.params.bandWidth||.15,c=l.params.directions||[],d=l.params.lineDensity,u=l.params.bandCount,h=a*Math.min(i,n);for(let e of c){let l=Math.floor(o(t,u));for(let a=0;a<l;a++){let l=Math.floor(o(t,d));if("vertical"===e){let e=t()*(i-h)+h/2;for(let i=0;i<l;i++){let a=e-h/2+(i+.5)/l*h;s(r,[[a,0],[a,n]],{color:"#222",width:.5+.8*t(),opacity:.3+.4*t()})}}else if("horizontal"===e){let e=t()*(n-h)+h/2;for(let n=0;n<l;n++){let a=e-h/2+(n+.5)/l*h;s(r,[[0,a],[i,a]],{color:"#222",width:.5+.8*t(),opacity:.3+.4*t()})}}else if("diagonal-right"===e){let e=t()*(i+n)-n;for(let i=0;i<l;i++){let a=(i+.5)/l*h-h/2;s(r,[[e+a,0],[e+a+n,n]],{color:"#222",width:.5+.8*t(),opacity:.3+.4*t()})}}else if("diagonal-left"===e){let e=t()*(i+n)-n;for(let a=0;a<l;a++){let o=(a+.5)/l*h-h/2;s(r,[[i-e-o,0],[i-e-o-n,n]],{color:"#222",width:.5+.8*t(),opacity:.3+.4*t()})}}}}}(e,l,i,n,c),d.has("pegboard")&&function(e,t,i,n,r){let l=e.steps.find(e=>"pegboard"===e.type);if(!l)return;let a=l.params.cellSize||.025,o=l.params.gapRatio||.2,c=l.params.colors||["#c23b22"],d=a*Math.min(i,n),u=d*o,h=d-u,m=Math.floor(i/d),f=Math.floor(n/d);for(let e=0;e<f;e++)for(let i=0;i<m;i++){let n=i*d+u/2,l=e*d+u/2;s(r,[[n,l],[n+h,l],[n+h,l+h],[n,l+h],[n,l]],{color:c[Math.floor(t()*c.length)],width:h,opacity:.85+.15*t()})}}(e,l,i,n,c),d.has("wobbly-lines")&&function(e,t,i,n,r){let l=e.steps.find(e=>"wobbly-lines"===e.type);if(!l)return;let a=l.params.count,c=l.params.wobble,d=l.params.segments,u=Math.floor(o(t,a));for(let e=0;e<u;e++){let l=(e+.5)/u*i,a=Math.floor(o(t,d)),h=o(t,c),m=[];for(let e=0;e<=a;e++){let i=e/a,r=(t()-.5)*2*h;m.push([l+r,i*n])}s(r,m,{color:"#222",width:.5+ +t(),opacity:.4+.4*t()})}}(e,l,i,n,c),c}(t,i,e,n);if(h.current=g,m.current=0,console.log("[".concat(t.id,"] seed=").concat(i," size=").concat(e,"x").concat(n," strokes=").concat(g.length)),g.length>0){let e=new Set(g.map(e=>e.path.length)),i=g.reduce((e,t)=>Math.min(e,t.style.width),1/0),n=g.reduce((e,t)=>Math.max(e,t.style.width),0),r=g.reduce((e,t)=>Math.min(e,t.style.opacity),1/0),l=g.reduce((e,t)=>Math.max(e,t.style.opacity),0);console.log("[".concat(t.id,"] path lengths: ").concat([...e].join(", ")," | width: ").concat(i.toFixed(2),"–").concat(n.toFixed(2)," | opacity: ").concat(r.toFixed(2),"–").concat(l.toFixed(2)))}})(r,l)});return n.observe(e),()=>n.disconnect()},[t,i]),(0,n.jsx)("div",{ref:u,className:"drawing-canvas",children:(0,n.jsx)("canvas",{ref:d})})}let u=(0,r.forwardRef)(function(e,t){let{progress:i,onSeek:l}=e,a=(0,r.useRef)(null),o=t||a,s=(0,r.useCallback)(e=>{let t=o.current;if(!t)return;let i=t.getBoundingClientRect();l(Math.max(0,Math.min(1,(e.clientX-i.left)/i.width)))},[l,o]);return(0,n.jsx)("div",{ref:o,className:"timeline",onClick:s,children:(0,n.jsx)("div",{className:"timeline-progress",style:{width:"".concat(100*i,"%")}})})});function h(e){let{isPlaying:t,onPlay:i,onStop:r,onReroll:l}=e;return(0,n.jsxs)("div",{className:"controls",children:[t?(0,n.jsx)("button",{onClick:r,children:"Stop"}):(0,n.jsx)("button",{onClick:i,children:"Play"}),(0,n.jsx)("button",{onClick:l,children:"Re-roll"})]})}function m(e){let{instruction:t,seed:i,onReroll:l}=e,[a,o]=(0,r.useState)(!1),[s,c]=(0,r.useState)(0),m=(0,r.useRef)(0),f=(0,r.useRef)(0),p=(0,r.useRef)(0),g=(0,r.useRef)(null),w=(0,r.useCallback)(()=>{o(!0),p.current=0,c(0),f.current=performance.now();let e=t=>{let i=Math.min((t-f.current)/5e3,1);if(p.current=i,g.current){let e=g.current.firstElementChild;e&&(e.style.width="".concat(100*i,"%"))}i<1?m.current=requestAnimationFrame(e):(c(1),o(!1))};m.current=requestAnimationFrame(e)},[]),y=(0,r.useCallback)(()=>{cancelAnimationFrame(m.current),c(p.current),o(!1)},[]);(0,r.useEffect)(()=>()=>cancelAnimationFrame(m.current),[]);let b=(0,r.useCallback)(e=>{cancelAnimationFrame(m.current),o(!1),p.current=e,c(e)},[]),x=(0,r.useCallback)(()=>{cancelAnimationFrame(m.current),o(!1),p.current=0,c(0),l()},[l]);return(0,n.jsxs)("section",{className:"wall-section",children:[(0,n.jsxs)("span",{className:"instruction-label",children:[t.title," (",t.year,")"]}),(0,n.jsx)(d,{instruction:t,seed:i,progressRef:p}),(0,n.jsx)(h,{isPlaying:a,onPlay:w,onStop:y,onReroll:x}),(0,n.jsx)(u,{ref:g,progress:s,onSeek:b})]})}function f(){let[e,t]=(0,r.useState)(()=>Object.fromEntries(l.map(e=>[e.id,Math.floor(1e5*Math.random())])));return(0,n.jsx)(n.Fragment,{children:l.map(i=>(0,n.jsx)(m,{instruction:i,seed:e[i.id],onReroll:()=>{var e;return e=i.id,void t(t=>({...t,[e]:Math.floor(1e5*Math.random())}))}},i.id))})}function p(){return(0,n.jsx)("main",{children:(0,n.jsx)(f,{})})}}},e=>{e.O(0,[441,255,358],()=>e(e.s=218)),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{218:(e,t,r)=>{Promise.resolve().then(r.bind(r,2665))},2665:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>R});var a=r(5155),i=r(2115);let n=[{id:"wall-drawing-11",title:"Wall Drawing #11",description:"A wall divided horizontally and vertically into four equal parts. Within each part, three of the four kinds of lines are superimposed.",year:1969,medium:"Black pencil",steps:[{type:"divide",params:{rows:2,cols:2,drawGrid:!0}},{type:"lines",params:{lineKinds:["horizontal","vertical","diagonal-left","diagonal-right"],pickPerCell:3,density:{min:30,max:60},strokeWidth:{min:.5,max:1.5}}}]},{id:"wall-drawing-16",title:"Wall Drawing #16",description:"Bands of lines 12 inches (30 cm) wide, in three directions (vertical, horizontal, diagonal right) intersecting.",year:1969,medium:"Black pencil",steps:[{type:"bands",params:{bandWidth:.15,directions:["vertical","horizontal","diagonal-right"],lineDensity:{min:12,max:24},bandCount:{min:2,max:4}}}]},{id:"wall-drawing-17",title:"Wall Drawing #17",description:"Four-part drawing with a different line direction in each part.",year:1969,medium:"Black pencil",steps:[{type:"divide",params:{rows:1,cols:4}},{type:"lines",params:{lineKinds:["horizontal","vertical","diagonal-left","diagonal-right"],pickPerCell:1,unique:!0,density:{min:15,max:30},strokeWidth:{min:.5,max:1.5}}}]},{id:"wall-drawing-19",title:"Wall Drawing #19",description:"A wall divided vertically into six equal parts, with two of the four kinds of line directions superimposed in each part.",year:1969,medium:"Black pencil",steps:[{type:"divide",params:{rows:1,cols:6}},{type:"lines",params:{lineKinds:["horizontal","vertical","diagonal-left","diagonal-right"],pickPerCell:2,density:{min:12,max:25},strokeWidth:{min:.5,max:1.5}}}]},{id:"wall-drawing-38",title:"Wall Drawing #38",description:"Tissue paper cut into 1\xbd-inch (4 cm) squares and inserted into holes in the gray pegboard walls. All holes in the walls are filled randomly.",year:1970,medium:"Colored tissue papers, gray pegboard walls",backgroundColor:"#b0b0b0",steps:[{type:"pegboard",params:{cellSize:.025,gapRatio:.2,colors:["#c23b22","#e8a735","#3a7d44","#2e5fa1","#7b3f8d","#e86833","#d4a5a5","#f0e68c","#5b9bd5","#ff6b6b","#88d8b0","#ffd93d"],background:"#b0b0b0"}}]},{id:"wall-drawing-46",title:"Wall Drawing #46",description:"Vertical lines, not straight, not touching, covering the wall evenly.",year:1970,medium:"Black pencil",steps:[{type:"wobbly-lines",params:{direction:"vertical",count:{min:60,max:80},wobble:{min:3,max:8},segments:{min:20,max:40},strokeWidth:{min:.5,max:1.5}}}]},{id:"wall-drawing-47",title:"Wall Drawing #47",description:"A wall divided into fifteen equal parts, each with a different line direction, and all combinations.",year:1970,medium:"Black pencil",steps:[{type:"divide",params:{rows:3,cols:5,drawGrid:!0}},{type:"lines",params:{lineKinds:["horizontal","vertical","diagonal-left","diagonal-right"],pickPerCell:4,density:{min:30,max:60},strokeWidth:{min:.5,max:1.5}}}]}];function l(e,t){let r=[...e];for(let e=r.length-1;e>0;e--){let a=Math.floor(t()*(e+1));[r[e],r[a]]=[r[a],r[e]]}return r}function o(e,t){return t.min+e()*(t.max-t.min)}function s(e,t,r){let a=e.length;e.push({id:a,path:t,style:r,drawOrder:a})}function c(e,t){let{path:r,style:a}=t;if(r.length<2)return;e.save(),e.globalAlpha=a.opacity,e.lineWidth=a.width,e.strokeStyle=a.color,e.lineCap="round",e.lineJoin="round";let i=r.length>3&&r[0][0]===r[r.length-1][0]&&r[0][1]===r[r.length-1][1];e.beginPath(),e.moveTo(r[0][0],r[0][1]);for(let t=1;t<r.length;t++)e.lineTo(r[t][0],r[t][1]);i?(e.fillStyle=a.color,e.fill()):e.stroke(),e.restore()}let d=(0,i.forwardRef)(function(e,t){let{instruction:r,seed:n,progressRef:d}=e,u=(0,i.useRef)(null),h=(0,i.useRef)(null),m=(0,i.useRef)([]),f=(0,i.useRef)(0),p=(0,i.useRef)(null),g=(0,i.useRef)({w:0,h:0}),w=(0,i.useRef)(0);return(0,i.useImperativeHandle)(t,()=>({getCanvas:()=>p.current})),(0,i.useEffect)(()=>{let e=()=>{let t=u.current,r=p.current,a=m.current;if(!t||!r||0===a.length){w.current=requestAnimationFrame(e);return}let i=a.length,n=Math.floor(d.current*i),l=f.current;if(n<l){let{w:e,h:t}=g.current,i=window.devicePixelRatio||1,l=r.getContext("2d");l.setTransform(i,0,0,i,0,0),l.clearRect(0,0,e,t);for(let e=0;e<n;e++)c(l,a[e]);f.current=n}else if(n>l){let e=window.devicePixelRatio||1,t=r.getContext("2d");t.setTransform(e,0,0,e,0,0);for(let e=l;e<n;e++)c(t,a[e]);f.current=n}let o=t.getContext("2d"),{w:s,h}=g.current,y=window.devicePixelRatio||1;o.setTransform(1,0,0,1,0,0),o.clearRect(0,0,s*y,h*y),o.drawImage(r,0,0),w.current=requestAnimationFrame(e)};return w.current=requestAnimationFrame(e),()=>cancelAnimationFrame(w.current)},[d]),(0,i.useEffect)(()=>{let e=h.current;if(!e)return;let t=new ResizeObserver(e=>{let[t]=e,a=t.contentRect.width,i=t.contentRect.height;a>0&&i>0&&((e,t)=>{if(0===e||0===t)return;let a=window.devicePixelRatio||1;g.current={w:e,h:t};let i=u.current;if(!i)return;i.width=e*a,i.height=t*a,i.style.width="".concat(e,"px"),i.style.height="".concat(t,"px");let c=p.current;c||(p.current=c=document.createElement("canvas")),c.width=e*a,c.height=t*a;let d=c.getContext("2d");d.setTransform(a,0,0,a,0,0),d.clearRect(0,0,e,t);let h=function(e,t,r,a){let i,n=(i=0|t,()=>{let e=Math.imul((i=i+0x6d2b79f5|0)^i>>>15,1|i);return(((e=e+Math.imul(e^e>>>7,61|e)^e)^e>>>14)>>>0)/0x100000000}),c=[],d=new Set(e.steps.map(e=>e.type));return d.has("divide")&&d.has("lines")&&function(e,t,r,a,i){let n=e.steps.find(e=>"divide"===e.type),c=e.steps.find(e=>"lines"===e.type);if(!n||!c)return;let d=n.params.rows||2,u=n.params.cols||2,h=r/u,m=a/d;if(n.params.drawGrid){let e={color:"#222",width:1.5,opacity:.8};for(let t=1;t<u;t++)s(i,[[t*h,0],[t*h,a]],e);for(let t=1;t<d;t++)s(i,[[0,t*m],[r,t*m]],e)}let f=c.params.lineKinds||[],p=c.params.pickPerCell||3,g=c.params.density,w=c.params.unique?l(f,t):null,y=0;for(let e=0;e<d;e++)for(let r=0;r<u;r++){let a;w?(a=[w[y%w.length]],y++):a=l(f,t).slice(0,p);let n=r*h,c=e*m;for(let e of a)for(let r of function(e,t,r,a,i,n){let l=[];for(let o=0;o<n;o++){let s=(o+.5)/n;switch(e){case"horizontal":l.push([[t,r+s*i],[t+a,r+s*i]]);break;case"vertical":l.push([[t+s*a,r],[t+s*a,r+i]]);break;case"diagonal-right":{let e=-a+(o+.5)/n*(a+i),s=Math.max(0,-e),c=Math.max(0,e),d=Math.min(a,i-e),u=Math.min(i,a+e);s<d&&l.push([[t+s,r+c],[t+d,r+u]]);break}case"diagonal-left":{let e=(o+.5)/n*(a+i),s=Math.max(0,e-i),c=Math.min(e,i),d=Math.min(a,e),u=Math.max(0,e-a);s<d&&l.push([[t+s,r+c],[t+d,r+u]])}}}return l}(e,n,c,h,m,Math.floor(o(t,g))))s(i,r,{color:"#222",width:.5+ +t(),opacity:.4+.4*t()})}}(e,n,r,a,c),d.has("bands")&&function(e,t,r,a,i){let n=e.steps.find(e=>"bands"===e.type);if(!n)return;let l=n.params.bandWidth||.15,c=n.params.directions||[],d=n.params.lineDensity,u=n.params.bandCount,h=l*Math.min(r,a);for(let e of c){let n=Math.floor(o(t,u));for(let l=0;l<n;l++){let n=Math.floor(o(t,d));if("vertical"===e){let e=t()*(r-h)+h/2;for(let r=0;r<n;r++){let l=e-h/2+(r+.5)/n*h;s(i,[[l,0],[l,a]],{color:"#222",width:.5+.8*t(),opacity:.3+.4*t()})}}else if("horizontal"===e){let e=t()*(a-h)+h/2;for(let a=0;a<n;a++){let l=e-h/2+(a+.5)/n*h;s(i,[[0,l],[r,l]],{color:"#222",width:.5+.8*t(),opacity:.3+.4*t()})}}else if("diagonal-right"===e){let e=t()*(r+a)-a;for(let r=0;r<n;r++){let l=(r+.5)/n*h-h/2;s(i,[[e+l,0],[e+l+a,a]],{color:"#222",width:.5+.8*t(),opacity:.3+.4*t()})}}else if("diagonal-left"===e){let e=t()*(r+a)-a;for(let l=0;l<n;l++){let o=(l+.5)/n*h-h/2;s(i,[[r-e-o,0],[r-e-o-a,a]],{color:"#222",width:.5+.8*t(),opacity:.3+.4*t()})}}}}}(e,n,r,a,c),d.has("pegboard")&&function(e,t,r,a,i){let n=e.steps.find(e=>"pegboard"===e.type);if(!n)return;let l=n.params.cellSize||.025,o=n.params.gapRatio||.2,c=n.params.colors||["#c23b22"],d=l*Math.min(r,a),u=d*o,h=d-u,m=Math.floor(r/d),f=Math.floor(a/d);for(let e=0;e<f;e++)for(let r=0;r<m;r++){let a=r*d+u/2,n=e*d+u/2;s(i,[[a,n],[a+h,n],[a+h,n+h],[a,n+h],[a,n]],{color:c[Math.floor(t()*c.length)],width:h,opacity:.85+.15*t()})}}(e,n,r,a,c),d.has("wobbly-lines")&&function(e,t,r,a,i){let n=e.steps.find(e=>"wobbly-lines"===e.type);if(!n)return;let l=n.params.count,c=n.params.wobble,d=n.params.segments,u=Math.floor(o(t,l));for(let e=0;e<u;e++){let n=(e+.5)/u*r,l=Math.floor(o(t,d)),h=o(t,c),m=[];for(let e=0;e<=l;e++){let r=e/l,i=(t()-.5)*2*h;m.push([n+i,r*a])}s(i,m,{color:"#222",width:.5+ +t(),opacity:.4+.4*t()})}}(e,n,r,a,c),c}(r,n,e,t);if(m.current=h,f.current=0,console.log("[".concat(r.id,"] seed=").concat(n," size=").concat(e,"x").concat(t," strokes=").concat(h.length)),h.length>0){let e=new Set(h.map(e=>e.path.length)),t=h.reduce((e,t)=>Math.min(e,t.style.width),1/0),a=h.reduce((e,t)=>Math.max(e,t.style.width),0),i=h.reduce((e,t)=>Math.min(e,t.style.opacity),1/0),n=h.reduce((e,t)=>Math.max(e,t.style.opacity),0);console.log("[".concat(r.id,"] path lengths: ").concat([...e].join(", ")," | width: ").concat(t.toFixed(2),"–").concat(a.toFixed(2)," | opacity: ").concat(i.toFixed(2),"–").concat(n.toFixed(2)))}})(a,i)});return t.observe(e),()=>t.disconnect()},[r,n]),(0,a.jsx)("div",{ref:h,className:"drawing-canvas",children:(0,a.jsx)("canvas",{ref:u})})}),u=(0,i.forwardRef)(function(e,t){let{progress:r,onSeek:n}=e,l=(0,i.useRef)(null),o=t||l,s=(0,i.useCallback)(e=>{let t=o.current;if(!t)return;let r=t.getBoundingClientRect();n(Math.max(0,Math.min(1,(e.clientX-r.left)/r.width)))},[n,o]);return(0,a.jsx)("div",{ref:o,className:"timeline",onClick:s,children:(0,a.jsx)("div",{className:"timeline-progress",style:{width:"".concat(100*r,"%")}})})}),h=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},m=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)};var f={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let p=(0,i.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:n=2,absoluteStrokeWidth:l,className:o="",children:s,iconNode:c,...d}=e;return(0,i.createElement)("svg",{ref:t,...f,width:a,height:a,stroke:r,strokeWidth:l?24*Number(n)/Number(a):n,className:h("lucide",o),...!s&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0;return!1})(d)&&{"aria-hidden":"true"},...d},[...c.map(e=>{let[t,r]=e;return(0,i.createElement)(t,r)}),...Array.isArray(s)?s:[s]])}),g=(e,t)=>{let r=(0,i.forwardRef)((r,a)=>{let{className:n,...l}=r;return(0,i.createElement)(p,{ref:a,iconNode:t,className:h("lucide-".concat(m(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),n),...l})});return r.displayName=m(e),r},w=g("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),y=g("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]),b=g("dices",[["rect",{width:"12",height:"12",x:"2",y:"10",rx:"2",ry:"2",key:"6agr2n"}],["path",{d:"m17.92 14 3.5-3.5a2.24 2.24 0 0 0 0-3l-5-4.92a2.24 2.24 0 0 0-3 0L10 6",key:"1o487t"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 14h.01",key:"ssrbsk"}],["path",{d:"M15 6h.01",key:"cblpky"}],["path",{d:"M18 9h.01",key:"2061c0"}]]),x=g("share",[["path",{d:"M12 2v13",key:"1km8f5"}],["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}]]),k=g("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);function v(e){let{isPlaying:t,onPlay:r,onStop:n,onReroll:l,onDownload:o}=e,[s,c]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{c("undefined"!=typeof navigator&&!!navigator.share&&!!navigator.canShare)},[]),(0,a.jsxs)("div",{className:"controls",children:[t?(0,a.jsx)("button",{onClick:n,"aria-label":"Stop",children:(0,a.jsx)(w,{size:16})}):(0,a.jsx)("button",{onClick:r,"aria-label":"Play",children:(0,a.jsx)(y,{size:16})}),(0,a.jsx)("button",{onClick:l,"aria-label":"Re-roll",children:(0,a.jsx)(b,{size:16})}),(0,a.jsx)("button",{onClick:o,"aria-label":s?"Share":"Download",children:s?(0,a.jsx)(x,{size:16}):(0,a.jsx)(k,{size:16})})]})}function M(e){let{instruction:t,seed:r,onReroll:n}=e,[l,o]=(0,i.useState)(!1),[s,c]=(0,i.useState)(0),h=(0,i.useRef)(0),m=(0,i.useRef)(0),f=(0,i.useRef)(0),p=(0,i.useRef)(null),g=(0,i.useRef)(null),w=(0,i.useCallback)(()=>{o(!0),f.current=0,c(0),m.current=performance.now();let e=t=>{let r=Math.min((t-m.current)/5e3,1);if(f.current=r,p.current){let e=p.current.firstElementChild;e&&(e.style.width="".concat(100*r,"%"))}r<1?h.current=requestAnimationFrame(e):(c(1),o(!1))};h.current=requestAnimationFrame(e)},[]),y=(0,i.useCallback)(()=>{cancelAnimationFrame(h.current),c(f.current),o(!1)},[]);(0,i.useEffect)(()=>()=>cancelAnimationFrame(h.current),[]);let b=(0,i.useCallback)(e=>{cancelAnimationFrame(h.current),o(!1),f.current=e,c(e)},[]),x=(0,i.useCallback)(()=>{cancelAnimationFrame(h.current),o(!1),f.current=0,c(0),n()},[n]),k=(0,i.useCallback)(async()=>{var e;let a=null==(e=g.current)?void 0:e.getCanvas();if(!a)return;let i="".concat(t.id,"_").concat(r,".png");if(navigator.share&&navigator.canShare)try{let e=await new Promise(e=>a.toBlob(t=>e(t),"image/png")),r=new File([e],i,{type:"image/png"});if(navigator.canShare({files:[r]}))return void await navigator.share({files:[r],title:t.title})}catch(e){if("AbortError"===e.name)return}let n=document.createElement("a");n.download=i,n.href=a.toDataURL("image/png"),n.click()},[t.id,t.title,r]);return(0,a.jsxs)("section",{className:"wall-section",style:t.backgroundColor?{backgroundColor:t.backgroundColor}:void 0,children:[(0,a.jsxs)("div",{className:"instruction-header",children:[(0,a.jsxs)("span",{className:"instruction-label",children:[t.title," (",t.year,")"]}),(0,a.jsx)("span",{className:"instruction-subtitle",children:t.description})]}),(0,a.jsx)(d,{ref:g,instruction:t,seed:r,progressRef:f}),(0,a.jsx)(v,{isPlaying:l,onPlay:w,onStop:y,onReroll:x,onDownload:k}),(0,a.jsx)(u,{ref:p,progress:s,onSeek:b})]})}function C(){let[e,t]=(0,i.useState)(()=>Object.fromEntries(n.map(e=>[e.id,Math.floor(1e5*Math.random())])));return(0,a.jsx)(a.Fragment,{children:n.map(r=>(0,a.jsx)(M,{instruction:r,seed:e[r.id],onReroll:()=>{var e;return e=r.id,void t(t=>({...t,[e]:Math.floor(1e5*Math.random())}))}},r.id))})}function R(){return(0,a.jsx)("main",{children:(0,a.jsx)(C,{})})}}},e=>{e.O(0,[441,255,358],()=>e(e.s=218)),_N_E=e.O()}]);